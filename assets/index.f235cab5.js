(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var ce,f,He,q,be,Me,re={},Ee=[],Qe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function R(e,n){for(var t in n)e[t]=n[t];return e}function Le(e){var n=e.parentNode;n&&n.removeChild(e)}function et(e,n,t){var a,o,l,i={};for(l in n)l=="key"?a=n[l]:l=="ref"?o=n[l]:i[l]=n[l];if(arguments.length>2&&(i.children=arguments.length>3?ce.call(arguments,2):t),typeof e=="function"&&e.defaultProps!=null)for(l in e.defaultProps)i[l]===void 0&&(i[l]=e.defaultProps[l]);return K(e,i,a,o,null)}function K(e,n,t,a,o){var l={type:e,props:n,key:t,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++He};return o==null&&f.vnode!=null&&f.vnode(l),l}function A(e){return e.children}function Q(e,n){this.props=e,this.context=n}function Y(e,n){if(n==null)return e.__?Y(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if((t=e.__k[n])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?Y(e):null}function Pe(e){var n,t;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((t=e.__k[n])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return Pe(e)}}function _e(e){(!e.__d&&(e.__d=!0)&&q.push(e)&&!ae.__r++||be!==f.debounceRendering)&&((be=f.debounceRendering)||setTimeout)(ae)}function ae(){for(var e;ae.__r=q.length;)e=q.sort(function(n,t){return n.__v.__b-t.__v.__b}),q=[],e.some(function(n){var t,a,o,l,i,s;n.__d&&(i=(l=(t=n).__v).__e,(s=t.__P)&&(a=[],(o=R({},l)).__v=l.__v+1,fe(s,l,o,t.__n,s.ownerSVGElement!==void 0,l.__h!=null?[i]:null,a,i??Y(l),l.__h),je(a,l),l.__e!=i&&Pe(l)))})}function Ie(e,n,t,a,o,l,i,s,d,h){var c,p,_,u,m,y,g,v=a&&a.__k||Ee,C=v.length;for(t.__k=[],c=0;c<n.length;c++)if((u=t.__k[c]=(u=n[c])==null||typeof u=="boolean"?null:typeof u=="string"||typeof u=="number"||typeof u=="bigint"?K(null,u,null,null,u):Array.isArray(u)?K(A,{children:u},null,null,null):u.__b>0?K(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u)!=null){if(u.__=t,u.__b=t.__b+1,(_=v[c])===null||_&&u.key==_.key&&u.type===_.type)v[c]=void 0;else for(p=0;p<C;p++){if((_=v[p])&&u.key==_.key&&u.type===_.type){v[p]=void 0;break}_=null}fe(e,u,_=_||re,o,l,i,s,d,h),m=u.__e,(p=u.ref)&&_.ref!=p&&(g||(g=[]),_.ref&&g.push(_.ref,null,u),g.push(p,u.__c||m,u)),m!=null?(y==null&&(y=m),typeof u.type=="function"&&u.__k===_.__k?u.__d=d=ze(u,d,e):d=Re(e,u,_,v,m,d),typeof t.type=="function"&&(t.__d=d)):d&&_.__e==d&&d.parentNode!=e&&(d=Y(_))}for(t.__e=y,c=C;c--;)v[c]!=null&&Ue(v[c],v[c]);if(g)for(c=0;c<g.length;c++)Oe(g[c],g[++c],g[++c])}function ze(e,n,t){for(var a,o=e.__k,l=0;o&&l<o.length;l++)(a=o[l])&&(a.__=e,n=typeof a.type=="function"?ze(a,n,t):Re(t,a,a,o,a.__e,n));return n}function Re(e,n,t,a,o,l){var i,s,d;if(n.__d!==void 0)i=n.__d,n.__d=void 0;else if(t==null||o!=l||o.parentNode==null)e:if(l==null||l.parentNode!==e)e.appendChild(o),i=null;else{for(s=l,d=0;(s=s.nextSibling)&&d<a.length;d+=1)if(s==o)break e;e.insertBefore(o,l),i=l}return i!==void 0?i:o.nextSibling}function tt(e,n,t,a,o){var l;for(l in t)l==="children"||l==="key"||l in n||oe(e,l,null,t[l],a);for(l in n)o&&typeof n[l]!="function"||l==="children"||l==="key"||l==="value"||l==="checked"||t[l]===n[l]||oe(e,l,n[l],t[l],a)}function Ce(e,n,t){n[0]==="-"?e.setProperty(n,t):e[n]=t==null?"":typeof t!="number"||Qe.test(n)?t:t+"px"}function oe(e,n,t,a,o){var l;e:if(n==="style")if(typeof t=="string")e.style.cssText=t;else{if(typeof a=="string"&&(e.style.cssText=a=""),a)for(n in a)t&&n in t||Ce(e.style,n,"");if(t)for(n in t)a&&t[n]===a[n]||Ce(e.style,n,t[n])}else if(n[0]==="o"&&n[1]==="n")l=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+l]=t,t?a||e.addEventListener(n,l?we:Ne,l):e.removeEventListener(n,l?we:Ne,l);else if(n!=="dangerouslySetInnerHTML"){if(o)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n in e)try{e[n]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&n.indexOf("-")==-1?e.removeAttribute(n):e.setAttribute(n,t))}}function Ne(e){this.l[e.type+!1](f.event?f.event(e):e)}function we(e){this.l[e.type+!0](f.event?f.event(e):e)}function fe(e,n,t,a,o,l,i,s,d){var h,c,p,_,u,m,y,g,v,C,M,k,$,D,T,S=n.type;if(n.constructor!==void 0)return null;t.__h!=null&&(d=t.__h,s=n.__e=t.__e,n.__h=null,l=[s]),(h=f.__b)&&h(n);try{e:if(typeof S=="function"){if(g=n.props,v=(h=S.contextType)&&a[h.__c],C=h?v?v.props.value:h.__:a,t.__c?y=(c=n.__c=t.__c).__=c.__E:("prototype"in S&&S.prototype.render?n.__c=c=new S(g,C):(n.__c=c=new Q(g,C),c.constructor=S,c.render=rt),v&&v.sub(c),c.props=g,c.state||(c.state={}),c.context=C,c.__n=a,p=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),S.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=R({},c.__s)),R(c.__s,S.getDerivedStateFromProps(g,c.__s))),_=c.props,u=c.state,p)S.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(S.getDerivedStateFromProps==null&&g!==_&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(g,C),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(g,c.__s,C)===!1||n.__v===t.__v){for(c.props=g,c.state=c.__s,n.__v!==t.__v&&(c.__d=!1),c.__v=n,n.__e=t.__e,n.__k=t.__k,n.__k.forEach(function(z){z&&(z.__=n)}),M=0;M<c._sb.length;M++)c.__h.push(c._sb[M]);c._sb=[],c.__h.length&&i.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(g,c.__s,C),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(_,u,m)})}if(c.context=C,c.props=g,c.__v=n,c.__P=e,k=f.__r,$=0,"prototype"in S&&S.prototype.render){for(c.state=c.__s,c.__d=!1,k&&k(n),h=c.render(c.props,c.state,c.context),D=0;D<c._sb.length;D++)c.__h.push(c._sb[D]);c._sb=[]}else do c.__d=!1,k&&k(n),h=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++$<25);c.state=c.__s,c.getChildContext!=null&&(a=R(R({},a),c.getChildContext())),p||c.getSnapshotBeforeUpdate==null||(m=c.getSnapshotBeforeUpdate(_,u)),T=h!=null&&h.type===A&&h.key==null?h.props.children:h,Ie(e,Array.isArray(T)?T:[T],n,t,a,o,l,i,s,d),c.base=n.__e,n.__h=null,c.__h.length&&i.push(c),y&&(c.__E=c.__=null),c.__e=!1}else l==null&&n.__v===t.__v?(n.__k=t.__k,n.__e=t.__e):n.__e=nt(t.__e,n,t,a,o,l,i,d);(h=f.diffed)&&h(n)}catch(z){n.__v=null,(d||l!=null)&&(n.__e=s,n.__h=!!d,l[l.indexOf(s)]=null),f.__e(z,n,t)}}function je(e,n){f.__c&&f.__c(n,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(a){a.call(t)})}catch(a){f.__e(a,t.__v)}})}function nt(e,n,t,a,o,l,i,s){var d,h,c,p=t.props,_=n.props,u=n.type,m=0;if(u==="svg"&&(o=!0),l!=null){for(;m<l.length;m++)if((d=l[m])&&"setAttribute"in d==!!u&&(u?d.localName===u:d.nodeType===3)){e=d,l[m]=null;break}}if(e==null){if(u===null)return document.createTextNode(_);e=o?document.createElementNS("http://www.w3.org/2000/svg",u):document.createElement(u,_.is&&_),l=null,s=!1}if(u===null)p===_||s&&e.data===_||(e.data=_);else{if(l=l&&ce.call(e.childNodes),h=(p=t.props||re).dangerouslySetInnerHTML,c=_.dangerouslySetInnerHTML,!s){if(l!=null)for(p={},m=0;m<e.attributes.length;m++)p[e.attributes[m].name]=e.attributes[m].value;(c||h)&&(c&&(h&&c.__html==h.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(tt(e,_,p,o,s),c)n.__k=[];else if(m=n.props.children,Ie(e,Array.isArray(m)?m:[m],n,t,a,o&&u!=="foreignObject",l,i,l?l[0]:t.__k&&Y(t,0),s),l!=null)for(m=l.length;m--;)l[m]!=null&&Le(l[m]);s||("value"in _&&(m=_.value)!==void 0&&(m!==e.value||u==="progress"&&!m||u==="option"&&m!==p.value)&&oe(e,"value",m,p.value,!1),"checked"in _&&(m=_.checked)!==void 0&&m!==e.checked&&oe(e,"checked",m,p.checked,!1))}return e}function Oe(e,n,t){try{typeof e=="function"?e(n):e.current=n}catch(a){f.__e(a,t)}}function Ue(e,n,t){var a,o;if(f.unmount&&f.unmount(e),(a=e.ref)&&(a.current&&a.current!==e.__e||Oe(a,null,n)),(a=e.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(l){f.__e(l,n)}a.base=a.__P=null,e.__c=void 0}if(a=e.__k)for(o=0;o<a.length;o++)a[o]&&Ue(a[o],n,t||typeof e.type!="function");t||e.__e==null||Le(e.__e),e.__=e.__e=e.__d=void 0}function rt(e,n,t){return this.constructor(e,t)}function at(e,n,t){var a,o,l;f.__&&f.__(e,n),o=(a=typeof t=="function")?null:t&&t.__k||n.__k,l=[],fe(n,e=(!a&&t||n).__k=et(A,null,[e]),o||re,re,n.ownerSVGElement!==void 0,!a&&t?[t]:o?null:n.firstChild?ce.call(n.childNodes):null,l,!a&&t?t:o?o.__e:n.firstChild,a),je(l,e)}function ot(e,n){var t={__c:n="__cC"+Me++,__:e,Consumer:function(a,o){return a.children(o)},Provider:function(a){var o,l;return this.getChildContext||(o=[],(l={})[n]=this,this.getChildContext=function(){return l},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&o.some(_e)},this.sub=function(i){o.push(i);var s=i.componentWillUnmount;i.componentWillUnmount=function(){o.splice(o.indexOf(i),1),s&&s.call(i)}}),a.children}};return t.Provider.__=t.Consumer.contextType=t}ce=Ee.slice,f={__e:function(e,n,t,a){for(var o,l,i;n=n.__;)if((o=n.__c)&&!o.__)try{if((l=o.constructor)&&l.getDerivedStateFromError!=null&&(o.setState(l.getDerivedStateFromError(e)),i=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,a||{}),i=o.__d),i)return o.__E=o}catch(s){e=s}throw e}},He=0,Q.prototype.setState=function(e,n){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=R({},this.state),typeof e=="function"&&(e=e(R({},t),this.props)),e&&R(t,e),e!=null&&this.__v&&(n&&this._sb.push(n),_e(this))},Q.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_e(this))},Q.prototype.render=A,q=[],ae.__r=0,Me=0;var F,w,ue,ke,le=0,Fe=[],ee=[],Se=f.__b,$e=f.__r,De=f.diffed,Te=f.__c,Ae=f.unmount;function Z(e,n){f.__h&&f.__h(w,e,le||n),le=0;var t=w.__H||(w.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({__V:ee}),t.__[e]}function b(e){return le=1,lt(Be,e)}function lt(e,n,t){var a=Z(F++,2);if(a.t=e,!a.__c&&(a.__=[t?t(n):Be(void 0,n),function(l){var i=a.__N?a.__N[0]:a.__[0],s=a.t(i,l);i!==s&&(a.__N=[s,a.__[1]],a.__c.setState({}))}],a.__c=w,!w.u)){w.u=!0;var o=w.shouldComponentUpdate;w.shouldComponentUpdate=function(l,i,s){if(!a.__c.__H)return!0;var d=a.__c.__H.__.filter(function(c){return c.__c});if(d.every(function(c){return!c.__N}))return!o||o.call(this,l,i,s);var h=!1;return d.forEach(function(c){if(c.__N){var p=c.__[0];c.__=c.__N,c.__N=void 0,p!==c.__[0]&&(h=!0)}}),!(!h&&a.__c.props===l)&&(!o||o.call(this,l,i,s))}}return a.__N||a.__}function j(e,n){var t=Z(F++,3);!f.__s&&ge(t.__H,n)&&(t.__=e,t.i=n,w.__H.__h.push(t))}function ct(e,n){var t=Z(F++,4);!f.__s&&ge(t.__H,n)&&(t.__=e,t.i=n,w.__h.push(t))}function J(e){return le=5,it(function(){return{current:e}},[])}function it(e,n){var t=Z(F++,7);return ge(t.__H,n)?(t.__V=e(),t.i=n,t.__h=e,t.__V):t.__}function st(e){var n=w.context[e.__c],t=Z(F++,9);return t.c=e,n?(t.__==null&&(t.__=!0,n.sub(w)),n.props.value):e.__}function dt(){for(var e;e=Fe.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(te),e.__H.__h.forEach(pe),e.__H.__h=[]}catch(n){e.__H.__h=[],f.__e(n,e.__v)}}f.__b=function(e){w=null,Se&&Se(e)},f.__r=function(e){$e&&$e(e),F=0;var n=(w=e.__c).__H;n&&(ue===w?(n.__h=[],w.__h=[],n.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=ee,t.__N=t.i=void 0})):(n.__h.forEach(te),n.__h.forEach(pe),n.__h=[])),ue=w},f.diffed=function(e){De&&De(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(Fe.push(n)!==1&&ke===f.requestAnimationFrame||((ke=f.requestAnimationFrame)||ht)(dt)),n.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==ee&&(t.__=t.__V),t.i=void 0,t.__V=ee})),ue=w=null},f.__c=function(e,n){n.some(function(t){try{t.__h.forEach(te),t.__h=t.__h.filter(function(a){return!a.__||pe(a)})}catch(a){n.some(function(o){o.__h&&(o.__h=[])}),n=[],f.__e(a,t.__v)}}),Te&&Te(e,n)},f.unmount=function(e){Ae&&Ae(e);var n,t=e.__c;t&&t.__H&&(t.__H.__.forEach(function(a){try{te(a)}catch(o){n=o}}),t.__H=void 0,n&&f.__e(n,t.__v))};var xe=typeof requestAnimationFrame=="function";function ht(e){var n,t=function(){clearTimeout(a),xe&&cancelAnimationFrame(n),setTimeout(e)},a=setTimeout(t,100);xe&&(n=requestAnimationFrame(t))}function te(e){var n=w,t=e.__c;typeof t=="function"&&(e.__c=void 0,t()),w=n}function pe(e){var n=w;e.__c=e.__(),w=n}function ge(e,n){return!e||e.length!==n.length||n.some(function(t,a){return t!==e[a]})}function Be(e,n){return typeof n=="function"?n(e):n}function Ve(e){return`https://${e}.zportal.nl`}async function ut(e,n){const t=Ve(e),a=await fetch(`${t}/api/v3/oauth/token?grant_type=authorization_code&code=${n}`,{method:"POST"});if(!a.ok)return await Promise.reject(Error("Server returned an error. you probably entered an invalid code."));const o=await a.json();return o.access_token?await Promise.resolve(o.access_token):await Promise.reject(Error("No access token could be retrieved from server."))}const ne=async(e,n,t,a,o)=>{if(e!=="GET"&&e!=="POST")return;const l=Ve(a),i=await fetch(`${l}${n}`,{method:e,headers:{Authorization:`Bearer ${t}`},signal:o});if(!i.ok)throw new Error(`Server returned with an error (${i.status})`);const s=await i.json();if(s)return s;throw new Error("Server returned with an error")};var _t=0;function r(e,n,t,a,o){var l,i,s={};for(i in n)i=="ref"?l=n[i]:s[i]=n[i];var d={type:e,props:s,key:t,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--_t,__source:o,__self:a};if(typeof e=="function"&&(l=e.defaultProps))for(i in l)s[i]===void 0&&(s[i]=l[i]);return f.vnode&&f.vnode(d),d}function pt({addAccount:e}){const{localPREFIX:n,settings:t,logIn:a,goBack:o}=P(),[l,i]=b(""),[s,d]=b(""),[h,c]=b(""),[p,_]=b(""),u=(m,y,g)=>{i("");const v=JSON.parse(localStorage.getItem(`${n}-accounts`)||"[]");if(v.some(C=>C.accountName===g)){i(`${t.lng==="nl"?"Er bestaat al een account met deze naam.":(t.lng==="en","An account with this name already exists.")}`);return}ut(m,y).then(C=>{a({accountName:g,school:m,accessToken:C},v)}).catch(C=>{i(C.message)})};return r("div",{className:"login",children:[e&&r("button",{className:"back","aria-label":"go back",onClick:o,children:r("svg",{viewBox:"0, 0, 400,400",children:r("g",{children:r("path",{id:"path0",d:"M133.594 60.920 C 129.853 62.938,1.851 191.233,0.820 193.996 C -0.234 196.823,-0.234 203.177,0.820 206.004 C 1.904 208.909,129.973 337.146,133.758 339.116 C 143.576 344.226,154.799 337.317,154.799 326.163 C 154.799 319.823,155.717 320.847,101.220 266.406 L 49.995 215.234 219.724 214.844 L 389.453 214.453 392.740 212.697 C 402.651 207.400,402.463 192.009,392.427 187.024 C 389.545 185.593,384.190 185.535,219.724 185.156 L 49.995 184.766 101.564 133.203 C 155.745 79.028,154.953 79.923,154.813 72.963 C 154.604 62.544,142.897 55.899,133.594 60.920 ",stroke:"none",fill:"currentColor",fillRule:"evenodd"})})})}),r("form",{onSubmit:m=>{m.preventDefault(),u(h,p,s)},children:[r("h1",{children:e?t.lng==="nl"?"Account Toevoegen":(t.lng==="en","Add Account"):(t.lng==="nl"||t.lng==="en","Login")}),r("label",{htmlFor:"name",children:t.lng==="nl"?"Account Naam":(t.lng==="en","Account Name")}),r("input",{id:"name",value:s,className:`${l?"err":""}`,onChange:({target:m})=>d(m.value),type:"text",required:!0}),r("label",{htmlFor:"school",children:"School"}),r("input",{id:"school",value:h,className:`${l?"err":""}`,onChange:({target:m})=>c(m.value),type:"text",required:!0}),r("label",{htmlFor:"code",children:"Code"}),r("input",{autoComplete:"off",id:"code",value:p,className:`${l?"err":""}`,onChange:({target:m})=>_(m.value.replace(/\s+/g,"")),type:"text",required:!0}),r("button",{"aria-label":"login",type:"submit",children:e?t.lng==="nl"?"Account Toevoegen":(t.lng==="en","Add Account"):(t.lng==="nl"||t.lng==="en","Login")}),l!==""&&r("span",{className:"err",children:l})]})]})}const me=e=>{let n=864e5,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=t.getDay()*n,o=new Date(t.getTime()-a+n);return o>t&&(o=new Date(o.getTime()-n*7)),o},ve=(e,n)=>{let t;return t=me(e),t.setDate(t.getDate()+n*7),t},We=async(e,n)=>{const t=ve(e,n);let a=[];t.setDate(t.getDate()-t.getDay()+1);for(let o=0;o<5;o++)a.push(new Date(t)),t.setDate(t.getDate()+1);return Promise.resolve(a)},mt=(e,n,t)=>{const a=e.data[0].appointments.filter(h=>new Date(h.start*1e3).toDateString()===n[0].toDateString()&&new Date(h.end*1e3).toDateString()===n[0].toDateString()).sort((h,c)=>h.start>c.start?1:-1),o=e.data[0].appointments.filter(h=>new Date(h.start*1e3).toDateString()===n[1].toDateString()&&new Date(h.end*1e3).toDateString()===n[1].toDateString()).sort((h,c)=>h.start>c.start?1:-1),l=e.data[0].appointments.filter(h=>new Date(h.start*1e3).toDateString()===n[2].toDateString()&&new Date(h.end*1e3).toDateString()===n[2].toDateString()).sort((h,c)=>h.start>c.start?1:-1),i=e.data[0].appointments.filter(h=>new Date(h.start*1e3).toDateString()===n[3].toDateString()&&new Date(h.end*1e3).toDateString()===n[3].toDateString()).sort((h,c)=>h.start>c.start?1:-1),s=e.data[0].appointments.filter(h=>new Date(h.start*1e3).toDateString()===n[4].toDateString()&&new Date(h.end*1e3).toDateString()===n[4].toDateString()).sort((h,c)=>h.start>c.start?1:-1);let d=[a,o,l,i,s];return t||(d=d.map(h=>h.filter(c=>c.appointmentType!=="choice"))),d},ft=e=>{const[n,t]=b(!1);return j(()=>{const a=window.matchMedia(e);a.matches!==n&&t(a.matches);const o=()=>t(a.matches);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[n,e]),n},gt=(e,n,t=window)=>{const a=J(null);j(()=>{a.current=n},[n]),j(()=>{if(!(t&&t.addEventListener))return;const l=i=>a.current(i);return t.addEventListener(e,l),()=>{t.removeEventListener(e,l)}},[e,t])},vt={localPREFIX:"zermelo",settings:{lng:"nl",showChoices:!1,theme:"light"},setSettings:()=>{},isDesktop:!0,user:"",accounts:[],currentAccount:0,logOut:()=>{},logIn:()=>{},goBack:()=>{},addNewAccount:()=>{},switchAccount:()=>{},datesLoad:[],scheduleLoad:[],announcementsLoad:[],fetchLiveSchedule:()=>Promise.resolve([])},Ge=ot(vt);function P(){return st(Ge)}function yt({children:e}){const n="zermelo",t=new Date,a=["1a","1b","1c","1d","1s","1k","1l","1m","1f","1g","2a","2b","2c","2d","2s","2k","2l","2m","2f","2g","3h","3v","4v","4h","5v","5h","6v"],o=ft("(min-width: 1110px)"),[l,i]=b(!0),[s,d]=b(!1),[h,c]=b(!1),[p,_]=b(Number(localStorage.getItem(`${n}-current`)||0)),[u,m]=b(""),[y,g]=b(JSON.parse(localStorage.getItem(`${n}-accounts`)||"[]")),[v,C]=b(JSON.parse(localStorage.getItem(`${n}-settings`)||'{"lng": "nl", "theme": "light", "showChoices": false, "perWeek": true}')),[M,k]=b(""),[$,D]=b([]),[T,S]=b([]),[z,B]=b([]);j(()=>{!Array.isArray(y)||y.length===0?(d(!1),i(!1)):d(!0)},[]),j(()=>{if(!s||!y[p].accessToken)return;i(!0);const N=new AbortController,x=N.signal;return(async()=>{let L;const O=await Xe(y,p,x);if(O&&O.data[0].code)L=O.data[0].code;else{d(!1),i(!1);return}const X=await We(t,0),U=await Promise.all([ye(L,X,0,x),Ke(x)]);let V=U[0],de=U[1];if(!V.every(I=>I.length<1)){const I=[...new Set(V.flat().map(H=>H.groups?H.groups[0]:"").filter(H=>H?.includes(".")))].map(H=>H.split("."))[0].filter(H=>a.some(W=>H==W))[0];if(I!==M&&I!==""){const H=de.filter(W=>a.some(he=>W.title.toLowerCase().includes(he))&&W.title.toLowerCase().includes(I.slice(0,2))||!a.some(he=>W.title.toLowerCase().includes(he))||!I);k(I),S(H)}else S(de)}m(L),B(X),D(V),i(!1)})(),()=>{N.abort()}},[s,y[p]]),j(()=>{!v||localStorage.setItem(`${n}-settings`,JSON.stringify(v))},[v]),j(()=>{!v||(document.body.classList.value=v.theme)},[v.theme]);const ie=()=>{c(!0),d(!1)},se=()=>{i(!0),c(!1),d(!0)},qe=N=>{N<-1||N>y.length||(localStorage.setItem(`${n}-current`,JSON.stringify(N)),_(N))},Ye=()=>{i(!0);const N=y;N.splice(p,1),localStorage.setItem(`${n}-accounts`,JSON.stringify(N)),localStorage.setItem(`${n}-current`,JSON.stringify(0)),g(N),_(0),N.length<1&&d(!1)},Ze=(N,x)=>{i(!0);const E=[...x,N],L=E.indexOf(N);localStorage.setItem(`${n}-accounts`,JSON.stringify(E)),localStorage.setItem(`${n}-current`,JSON.stringify(L)),g(E),_(L),c(!1),d(!0)};async function Xe(N,x,E){return(await ne("GET","/api/v3/users/~me?fields=code,displayName",N[x].accessToken,N[x].school,E)).response}async function ye(N,x,E,L){const O=y[p].school,X=y[p].accessToken,U=ve(t,E),V=`${U.getFullYear()}${Math.ceil(Math.floor((Number(U)-Number(new Date(U.getFullYear(),0,1)))/(24*60*60*1e3))/7)}`,I=(await ne("GET",`/api/v3/liveschedule?student=${N}&week=${V}&fields=start,end,startTimeSlotName,endTimeSlotName,subjects,groups,locations,teachers,cancelled,changeDescription,schedulerRemark,content,appointmentType`,X,O,L)).response;let H=mt(I,x,v.showChoices);return Promise.resolve(H)}async function Ke(N){const x=y[p].school,E=y[p].accessToken,O=(await ne("GET","/api/v3/announcements?user=~me&current=true&fields=text,title,id,read",E,x,N)).response;return Promise.resolve(O.data)}return r(Ge.Provider,{value:{localPREFIX:n,user:u,isDesktop:o,accounts:y,currentAccount:p,logOut:Ye,logIn:Ze,goBack:se,settings:v,setSettings:C,addNewAccount:ie,switchAccount:qe,scheduleLoad:$,announcementsLoad:T,datesLoad:z,fetchLiveSchedule:ye},children:l?r("div",{className:"loader-div",children:r("span",{className:"loader"})}):s?e:r(pt,{addAccount:h})})}const Je=({lesson:e,style:n,className:t="",onClick:a})=>{const{settings:o,isDesktop:l}=P(),i=`lesson-block ${e.appointmentType} ${t} ${e.cancelled?"cancelled":""} ${e.appointmentType==="choice"?e.actions?.some(d=>d.allowed===!0)?"allowed":"locked":""}`,s=e.appointmentType==="conflict"&&e.actions?e.actions[0].appointment:e;return r("article",{onClick:a,className:i.replace(/\s+/g," ").trim(),style:n,children:e.appointmentType!=="choice"?r(A,{children:[r("section",{className:"content-left",children:[r("h1",{"aria-label":"subject",children:[s.appointmentType==="choice"?`${o.lng==="nl"?"keuze":(o.lng==="en","choice")}`:"",s.subjects.length<=1?s.subjects[0]:`${s.subjects[0]}, ${s.subjects[1]}${s.subjects.length>2?"+":""}`]}),l&&s.teachers&&s.teachers.length>0&&r("div",{"aria-label":"teacher",children:[s.teachers.length<=1?s.teachers[0].toUpperCase():`${s.teachers[0].toUpperCase()}, ${s.teachers[1].toUpperCase()}${s.teachers.length>2?"+":""}`,r("span",{className:"change",children:s.status?.some(d=>d.code===3011)})]}),s.locations&&s.locations.length>0&&r("div",{"aria-label":"location",children:[s.locations.length<=1?s.locations[0]:`${s.locations[0]}, ${s.locations[1]}${s.locations.length>2?"+":""}`,r("span",{className:"change",children:s.status?.some(d=>d.code===3012)})]}),l&&r("div",{className:"times",children:[r("time",{"aria-label":"lesson start",dateTime:`${new Date(e.start*1e3)}`,children:[String(new Date(e.start*1e3).getHours()),":",String(new Date(e.start*1e3).getMinutes()).padStart(2,"0")]}),"-",r("time",{"aria-label":"lesson end",dateTime:`${new Date(e.end*1e3)}`,children:[String(new Date(e.end*1e3).getHours()),":",String(new Date(e.end*1e3).getMinutes()).padStart(2,"0")]}),r("span",{className:"change",children:e.status?.some(d=>d.code===3015)})]})]}),r("section",{className:"content-right",children:[l&&r("span",{children:e.startTimeSlotName}),(s.changeDescription||s.cancelled||s.schedulerRemark||s.status?.some(d=>d.code.toString().startsWith("4")&&d.code!==4009||d.code.toString().startsWith("3")))&&r("svg",{viewBox:"0 0 123.996 123.996",children:r("g",{children:r("path",{d:"M9.821,118.048h104.4c7.3,0,12-7.7,8.7-14.2l-52.2-92.5c-3.601-7.199-13.9-7.199-17.5,0l-52.2,92.5\r C-2.179,110.348,2.521,118.048,9.821,118.048z M70.222,96.548c0,4.8-3.5,8.5-8.5,8.5s-8.5-3.7-8.5-8.5v-0.2c0-4.8,3.5-8.5,8.5-8.5\r s8.5,3.7,8.5,8.5V96.548z M57.121,34.048h9.801c2.699,0,4.3,2.3,4,5.2l-4.301,37.6c-0.3,2.7-2.1,4.4-4.6,4.4s-4.3-1.7-4.6-4.4\r l-4.301-37.6C52.821,36.348,54.422,34.048,57.121,34.048z",fill:"currentColor"})})}),e.actions?.length!==0&&r("svg",{className:"options",viewBox:"0 0 1024 1024",children:r("path",{d:"M960 448H576V64a64 64 0 0 0-128 0v384H64a64 64 0 0 0 0 128h384v384a64 64 0 0 0 128 0V576h384a64 64 0 0 0 0-128z",fill:"currentColor"})})]})]}):r(A,{children:[r("section",{className:"choice-content",children:r("h1",{children:e.actions?.length||0})}),r("section",{className:"content-right",children:e.actions&&e.actions.some(d=>d.allowed!==!1)?r("svg",{className:"unlocked",viewBox:"0 0 1024 1024",children:r("path",{d:"M960 448H576V64a64 64 0 0 0-128 0v384H64a64 64 0 0 0 0 128h384v384a64 64 0 0 0 128 0V576h384a64 64 0 0 0 0-128z",fill:"currentColor"})}):r("svg",{className:"locked",viewBox:"0, 0, 400,400",children:r("g",{children:r("path",{d:"M179.388 1.194 C 136.339 8.424,100.785 37.404,84.474 78.560 C 77.373 96.477,75.781 107.250,75.781 137.380 L 75.781 160.714 69.541 161.142 C 59.010 161.864,52.177 166.780,48.268 176.448 L 46.484 180.859 46.266 279.297 C 46.049 377.177,46.057 377.763,47.674 382.813 C 49.833 389.553,53.705 394.717,58.782 397.629 L 62.891 399.985 200.000 399.985 L 337.109 399.985 341.218 397.629 C 346.226 394.757,350.123 389.609,352.297 382.991 C 354.795 375.386,354.829 186.670,352.333 178.793 C 348.532 166.798,340.574 160.938,328.087 160.938 L 324.219 160.938 324.219 137.492 C 324.219 107.239,322.634 96.495,315.526 78.560 C 293.788 23.708,237.112 -8.499,179.388 1.194 M218.614 54.625 C 243.456 61.846,262.851 81.282,269.515 105.634 C 271.799 113.981,272.627 124.022,272.643 143.555 L 272.656 160.938 200.000 160.938 L 127.344 160.938 127.357 143.555 C 127.373 124.022,128.201 113.981,130.485 105.634 C 140.852 67.751,181.945 43.966,218.614 54.625 M210.991 225.479 C 231.204 231.481,240.187 256.417,228.638 274.470 C 227.138 276.815,225.530 278.969,225.065 279.257 C 224.482 279.617,224.218 288.937,224.216 309.226 C 224.212 348.899,225.517 346.869,200.000 346.869 C 174.483 346.869,175.788 348.899,175.784 309.226 C 175.782 288.937,175.518 279.617,174.935 279.257 C 170.903 276.765,166.268 264.888,166.268 257.045 C 166.268 234.137,188.146 218.695,210.991 225.479 ",fill:"currentColor"})})})})]})})},G=({dayNumber:e,schedule:n,openLessonModal:t,openChoiceModal:a})=>r(A,{children:n[e]?.length!==0?n[e].map(o=>{let l=(new Date(o.start*1e3).getHours()-8)*12+new Date(o.start*1e3).getMinutes()/5+3,i=(new Date(o.end*1e3).getHours()-8)*12+new Date(o.end*1e3).getMinutes()/5+3;const s=o.actions?.length!==0?()=>{a(o)}:()=>{t(o)};return r(Je,{lesson:o,className:`${i-l<=5?"wrap":""}`,onClick:s,style:{gridRow:`${l} / ${i}`,gridColumn:`${e+2}/${e+3}`}},o.id?o.id:`choice-${o.endTimeSlotName}`)}):r("div",{style:{gridRow:"1 / -1"}})}),bt=()=>r(A,{children:[r("div",{}),r("div",{className:"time",children:r("time",{dateTime:"8:00",children:"8:00"})}),r("span",{className:"line",children:r("hr",{})}),r("div",{className:"time",children:r("time",{dateTime:"9:00",children:"9:00"})}),r("span",{className:"line",children:r("hr",{})}),r("div",{className:"time",children:r("time",{dateTime:"10:00",children:"10:00"})}),r("span",{className:"line",children:r("hr",{})}),r("div",{className:"time",children:r("time",{dateTime:"11:00",children:"11:00"})}),r("span",{className:"line",children:r("hr",{})}),r("div",{className:"time",children:r("time",{dateTime:"12:00",children:"12:00"})}),r("span",{className:"line",children:r("hr",{})}),r("div",{className:"time",children:r("time",{dateTime:"13:00",children:"13:00"})}),r("span",{className:"line",children:r("hr",{})}),r("div",{className:"time",children:r("time",{dateTime:"14:00",children:"14:00"})}),r("span",{className:"line",children:r("hr",{})}),r("div",{className:"time",children:r("time",{dateTime:"15:00",children:"15:00"})}),r("span",{className:"line",children:r("hr",{})}),r("div",{className:"time",children:r("time",{dateTime:"16:00",children:"16:00"})}),r("span",{className:"line",children:r("hr",{})}),r("div",{className:"time",children:r("time",{dateTime:"17:00",children:"17:00"})}),r("span",{className:"line",children:r("hr",{})})]});const Ct=({offset:e,currentDay:n,openChoiceModal:t,openLessonModal:a,choiceModalOpen:o})=>{const{user:l,settings:i,fetchLiveSchedule:s,scheduleLoad:d,datesLoad:h}=P(),[c,p]=b(!1),[_,u]=b(d),[m,y]=b(h),g=J(null),v=J(null),C=J(i.showChoices),M=J(o);return j(()=>{if(o!==!1)return;if(e===0&&C.current===i.showChoices&&M.current===o){y(h),u(d);return}p(!0);const k=new AbortController,$=k.signal;return(async()=>{const T=await We(n,e);s(l,T,e,$).then(S=>{y(T),u(S),p(!1)})})(),()=>{k.abort()}},[e,i.showChoices,o]),ct(()=>{const k=g.current,$=v.current;if(!k||!$)return;if(n.getHours()>17||n.getHours()<8){$.classList.add("!hidden");return}else $.classList.remove("!hidden");const D=()=>{const S=new Date(new Date(n.toDateString()).setHours(8));let z=n.getTime()-S.getTime(),B=Math.floor(z/1e3/60<<0);if(B>540||B<0)$.classList.add("!hidden");else{$.classList.remove("!hidden");const ie=B/550*100,se=k.offsetHeight/111;$.style.cssText=`top: calc(${ie}% + ${se}px);`}};D();const T=setInterval(()=>{D()},1e3*60);return()=>{clearInterval(T)}},[c]),r("section",{"aria-label":"schedule container",className:"schedule-container",children:[m&&r("section",{"aria-label":"dates",className:"dates",children:r(A,{children:[r("div",{className:"space",children:"10:00"}),r("div",{children:m&&m.map((k,$)=>r("time",{dateTime:`${k}`,className:`date ${n.toDateString()===k.toDateString()?"current":""}`,children:[r("span",{children:k.getDate().toString().padStart(2,"0")}),r("span",{children:k.toLocaleDateString(i.lng!=="en"&&i.lng!=="nl"?"default":i.lng,{weekday:"short"})}),r("div",{})]},$))})]})}),c?r("span",{className:"loader"}):r("section",{"aria-label":"schedule",className:"scroller",children:r("div",{ref:g,"aria-label":"schedule grid",className:"schedule-grid-week",children:[r(bt,{}),r(G,{schedule:_,dayNumber:0,openLessonModal:a,openChoiceModal:t}),r(G,{schedule:_,dayNumber:1,openLessonModal:a,openChoiceModal:t}),r(G,{schedule:_,dayNumber:2,openLessonModal:a,openChoiceModal:t}),r(G,{schedule:_,dayNumber:3,openLessonModal:a,openChoiceModal:t}),r(G,{schedule:_,dayNumber:4,openLessonModal:a,openChoiceModal:t}),r("div",{ref:v,className:"time-indicator",children:[r("div",{}),r("div",{})]})]})})]})},Nt=({closeChoiceModal:e,choiceModalOpen:n,selectedLesson:t})=>{const[a,o]=b(),{accounts:l,currentAccount:i,settings:s}=P(),{school:d,accessToken:h}=l[i];return r(A,{children:r("dialog",{onClick:p=>{p.target.classList.contains("choice-modal")&&e()},"aria-modal":"true",open:n,className:`${n&&t?"open ":""}choice-modal`,"aria-label":"choice info",children:r("form",{onSubmit:p=>{if(p.preventDefault(),!a)return;const u=new AbortController().signal;ne("POST",a,h,d,u).then(()=>{e()})},className:`${t?t.appointmentType+" ":""}${t?.cancelled?"cancelled ":""}content`,children:t&&r(A,{children:[r("div",{className:"form-scroller",children:t&&t.actions&&t.actions.length!==0&&t.actions.map(p=>r("div",{children:[t.appointmentType==="choice"&&r("input",{type:"radio",name:"enroll",id:"enroll",value:p.post,checked:a===p.post,onChange:()=>{o(p.post)}}),r(Je,{lesson:p.appointment,onClick:()=>{}})]},p.appointment.id))}),t.appointmentType==="choice"&&r("button",{disabled:!a,type:"submit","aria-label":"enroll",children:t.studentEnrolled?s.lng==="nl"?"Uitschrijven":(s.lng==="en","Disenroll"):s.lng==="nl"?"Inschrijven":(s.lng==="en","Enroll")})]})})})})},wt=({closeLessonModal:e,lessonModalOpen:n,selectedLesson:t})=>{const{settings:a}=P();return r("dialog",{onClick:o=>o.target.classList.contains("lesson-modal")&&e(),"aria-modal":"true",open:n,className:`${n&&t?"open ":""}lesson-modal`,"aria-label":"lesson info",children:r("div",{className:`${t?t.appointmentType+" ":""}${t?.cancelled?"cancelled ":""}content`,children:t&&r(A,{children:[r("span",{children:t.appointmentType}),r("div",{children:[r("span",{children:a.lng==="nl"?"Vak":(a.lng==="en","Subject")}),": ",r("span",{children:[t.subjects.length<=1?t.subjects[0]:`${t.subjects[0]}, ${t.subjects[1]}${t.subjects.length>2?"+":""}`,r("span",{className:"change",children:t.status?.some(o=>o.code===3014)})]})]}),r("div",{children:[r("span",{children:a.lng==="nl"?"Docent":(a.lng==="en","Teacher")}),": ",t.teachers.length>0&&r("span",{"aria-label":"teacher",children:[t.teachers.length<=1?t.teachers[0].toUpperCase():`${t.teachers[0].toUpperCase()}, ${t.teachers[1].toUpperCase()}${t.teachers.length>2?"+":""}`,r("span",{className:"change",children:t.status?.some(o=>o.code===3011)})]})]}),r("div",{children:[r("span",{children:a.lng==="nl"?"Lokaal":(a.lng==="en","Classroom")}),": ",t.locations.length>0&&r("span",{"aria-label":"location",children:[t.locations.length<=1?t.locations[0]:`${t.locations[0]}, ${t.locations[1]}${t.locations.length>2?"+":""}`,r("span",{className:"change",children:t.status?.some(o=>o.code===3012)})]})]}),r("div",{children:[r("span",{children:a.lng==="nl"?"Tijden":(a.lng==="en","Times")}),": ",r("span",{className:"times",children:[r("time",{"aria-label":"lesson start",dateTime:`${new Date(t.start*1e3)}`,children:[String(new Date(t.start*1e3).getHours()),":",String(new Date(t.start*1e3).getMinutes()).padStart(2,"0")]}),"-",r("time",{"aria-label":"lesson end",dateTime:`${new Date(t.end*1e3)}`,children:[String(new Date(t.end*1e3).getHours()),":",String(new Date(t.end*1e3).getMinutes()).padStart(2,"0")]}),r("span",{className:"change",children:t.status?.some(o=>o.code===3015)})]})]}),(t.changeDescription||t.schedulerRemark)&&r("div",{className:"remarks",children:[r("span",{className:"title",children:[a.lng==="nl"?"Opmerking":(a.lng==="en","Remark"),":"]}),t.changeDescription&&r("span",{children:t.changeDescription}),t.schedulerRemark&&r("span",{children:t.schedulerRemark})]})]})})})};const kt=()=>{const{settings:e,setSettings:n}=P();return r("aside",{className:"settings","aria-labelledby":"settings-header",children:[r("h1",{id:"settings-header",children:e.lng==="nl"?"Instellingen":(e.lng==="en","Settings")}),r("div",{children:[r("label",{htmlFor:"lng",children:[e.lng==="nl"?"Taal":(e.lng==="en","Language"),":"]}),r("select",{id:"lng",value:e.lng,onChange:({target:t})=>{n(a=>a={...a,lng:t.value})},children:[r("option",{value:"nl",children:"NL"}),r("option",{value:"en",children:"EN"})]})]}),r("div",{children:[r("label",{htmlFor:"theme",children:[e.lng==="nl"?"Thema":(e.lng==="en","Theme"),":"]}),r("select",{id:"theme",value:e.theme,onChange:({target:t})=>{n(a=>a={...a,theme:t.value})},children:[r("option",{value:"light",children:"Light"}),r("option",{value:"dark",children:"Dark"})]})]}),r("div",{children:[r("label",{htmlFor:"choices",children:[e.lng==="nl"?"Toon Inschrijvingen":(e.lng==="en","Show Enrollments"),":"]}),r("select",{id:"choices",value:e.showChoices.toString(),onChange:({target:t})=>{n(a=>a={...a,showChoices:t.value==="true"})},children:[r("option",{value:"false",children:e.lng==="nl"?"Nee":(e.lng==="en","No")}),r("option",{value:"true",children:e.lng==="nl"?"Ja":(e.lng==="en","Yes")})]})]})]})};const St=({announcements:e})=>{const{isDesktop:n,settings:t}=P();return r("aside",{"aria-labelledby":"announcements-header",className:`${n?"":"mobile "}announcements`,children:[r("h1",{id:"announcements-header",children:t.lng==="nl"?"Mededelingen":(t.lng==="en","Announcements")}),e.length!==0?e.map(a=>r("article",{className:"announcement",children:[r("header",{children:[r("h1",{children:a.title}),r("div",{children:r("div",{className:"plusminus",children:[r("span",{}),r("span",{})]})})]}),r("div",{children:a.text})]},a.id)):r("h2",{children:t.lng==="nl"?"Geen actuele mededelingen":(t.lng==="en","No current announcements")})]})};const $t=({setMenuOpen:e,showSettings:n,showAnnouncements:t,setShowSettings:a,setShowAnnouncements:o})=>{const{isDesktop:l,settings:i,accounts:s,currentAccount:d,switchAccount:h,addNewAccount:c,logOut:p}=P();return r("nav",{className:"navbar","aria-label":"primary",children:[r("svg",{className:"logo",viewBox:"0 0 512 512",children:[r("title",{children:"Logo"}),r("g",{children:[r("rect",{width:"512",height:"512",rx:"100",ry:"100"}),r("path",{d:"M374.75,217.71c21.32-33.81,28.64-70.97,29.03-110.31h9.99c0,6.54,.42,13.31-.07,20.01-1.98,26.96-7.88,52.96-19.48,77.55-.98,2.07-.74,5.17-.06,7.51,9.42,32.52,8.61,64.75-2.16,96.83-1.28,3.8-3.08,4.96-7.09,4.94-38.32-.18-76.65-.22-114.97,.03-5.18,.03-8.14-1.11-8.93-6.43-.26-1.77-1.03-3.47-1.69-5.63,1.93-.77,3.73-1.53,5.56-2.23,30.95-11.75,59.96-26.93,83.58-50.55,9.59-9.59,17.46-20.9,26.31-31.73Z"}),r("path",{d:"M112.28,256.06c.29-16.74,2.97-32.59,7.96-48.07,.94-2.92,2.25-4.14,5.57-4.13,36.81,.14,73.61,.14,110.42,0,3.34-.01,4.81,1.1,5.42,4.19,.47,2.41,1.29,4.76,2.08,7.59-87.66,33.62-135.85,95.31-135.71,191.4h-10.74c0-2.29-.06-4.53,0-6.78,.98-32.12,6.84-63.12,20.88-92.31,.89-1.84,.93-4.55,.36-6.57-4.17-14.67-6.26-29.61-6.25-45.33Z"}),r("path",{d:"M188,151.87h-32.71c52.4-59.33,150.04-59.57,202.3,0H188Z"}),r("path",{d:"M289.47,403.52c-55.31,13.05-104.8-8.89-131.52-37.35h197.71c-19.13,18.65-40.75,30.94-66.19,37.35Z"}),r("path",{d:"M255.45,290.03c-1.12-2.54-1.95-4.88-2.94-7.71,2.02-.8,3.81-1.56,5.63-2.24,29.66-11.04,56.95-25.91,79.34-48.8,25.19-25.77,38.74-57.01,43.43-92.35,1.37-10.36,1.83-20.84,2.73-31.61h8.12c-.18,35.83-6.67,70.09-25.59,101.12-25.69,42.13-64.92,66.25-110.71,81.59Z"}),r("path",{d:"M167.44,290.48c-28.59,33.73-38.59,73.33-38.85,116.54h-8.58c.03-35.29,6.74-68.83,24.65-99.76,19.52-33.71,55.88-63.25,102.72-79.87,.78,2.65,1.54,5.27,2.42,8.26-31.45,12.38-59.88,28.85-82.36,54.82Z"})]})]}),r("hr",{className:"separator"}),r("ul",{className:"accounts",children:s&&s.map((_,u)=>r("li",{children:r("button",{className:`${!n&&!t&&d===u?"active":""}`,"aria-label":`switch to ${_.accountName}`,onClick:()=>{e(!1),h(u),a(!1),o(!1)},children:[_.accountName.substring(0,2),r("span",{children:_.accountName})]})},u))}),r("section",{className:"buttons",children:[s.length<=5&&r("button",{"aria-label":"add account",className:"add-account",onClick:()=>{c(),a(!1),o(!1)},children:[r("svg",{viewBox:"0 0 1024 1024",children:r("path",{d:"M960 448H576V64a64 64 0 0 0-128 0v384H64a64 64 0 0 0 0 128h384v384a64 64 0 0 0 128 0V576h384a64 64 0 0 0 0-128z",fill:"currentColor"})}),r("span",{children:i.lng==="nl"?"Account Toevoegen":(i.lng==="en","Add Account")})]}),!l&&r("button",{"aria-label":"announcements",className:`${t?"active ":""}announcements-btn`,onClick:()=>{e(!1),a(!1),o(_=>!_)},children:[r("svg",{viewBox:"0 0 1024 1024",children:r("path",{d:"M853.333333 85.333333H170.666667C123.52 85.333333 85.76 123.52 85.76 170.666667L85.333333 938.666667l170.666667-170.666667h597.333333c47.146667 0 85.333333-38.186667 85.333334-85.333333V170.666667c0-47.146667-38.186667-85.333333-85.333334-85.333334zM554.666667 469.333333h-85.333334V213.333333h85.333334v256z m0 170.666667h-85.333334v-85.333333h85.333334v85.333333z",fill:"currentColor"})}),r("span",{children:i.lng==="nl"?"Mededelingen":(i.lng==="en","Announcements")})]}),r("button",{"aria-label":"settings",className:`${n?"active ":""}settings-btn`,onClick:()=>{e(!1),a(_=>!_),o(!1)},children:[r("svg",{viewBox:"0 0 48 48",children:[r("path",{d:"M0 0h48v48h-48z",fill:"none"}),r("path",{d:"M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97l-.75-5.3c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3c-1.22.51-2.35 1.17-3.38 1.97l-4.98-2.01c-.45-.17-.97 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31c-.08.64-.14 1.29-.14 1.95s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3c1.22-.51 2.35-1.17 3.38-1.97l4.98 2.01c.45.17.97 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zm-14.86 5.05c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z",fill:"currentColor"})]}),r("span",{children:i.lng==="nl"?"Instellingen":(i.lng==="en","Settings")})]})]}),r("button",{"aria-label":"logout",className:"logout",onClick:p,children:r("svg",{viewBox:"0 0 490.3 490.3",children:[r("path",{d:"M0,121.05v248.2c0,34.2,27.9,62.1,62.1,62.1h200.6c34.2,0,62.1-27.9,62.1-62.1v-40.2c0-6.8-5.5-12.3-12.3-12.3s-12.3,5.5-12.3,12.3v40.2c0,20.7-16.9,37.6-37.6,37.6H62.1c-20.7,0-37.6-16.9-37.6-37.6v-248.2c0-20.7,16.9-37.6,37.6-37.6h200.6c20.7,0,37.6,16.9,37.6,37.6v40.2c0,6.8,5.5,12.3,12.3,12.3s12.3-5.5,12.3-12.3v-40.2c0-34.2-27.9-62.1-62.1-62.1H62.1C27.9,58.95,0,86.75,0,121.05z",fill:"currentColor"}),r("path",{d:"M385.4,337.65c2.4,2.4,5.5,3.6,8.7,3.6s6.3-1.2,8.7-3.6l83.9-83.9c4.8-4.8,4.8-12.5,0-17.3l-83.9-83.9c-4.8-4.8-12.5-4.8-17.3,0s-4.8,12.5,0,17.3l63,63H218.6c-6.8,0-12.3,5.5-12.3,12.3c0,6.8,5.5,12.3,12.3,12.3h229.8l-63,63C380.6,325.15,380.6,332.95,385.4,337.65z",fill:"currentColor"})]})})]})};const Dt=({offset:e,setOffset:n,currentDay:t,showAnnouncements:a,showSettings:o,setMenuOpen:l})=>{const{settings:i,isDesktop:s}=P(),d=ve(t,e);return r("header",{className:"header",children:[!s&&r(A,{children:r("button",{tabIndex:1,"aria-label":"menu",className:"menu-hamburger",onClick:()=>l(h=>!h),children:r("svg",{viewBox:"0 0 32 32",children:r("path",{fill:"currentColor",d:"M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"})})})}),r("section",{"aria-label":"date",children:[r("time",{dateTime:`${new Date}`,children:r(A,{children:[r("span",{children:me(d).toLocaleString(i.lng!=="en"&&i.lng!=="nl"?"default":i.lng,{month:"long"})}),r("span",{children:me(d).toLocaleString(i.lng!=="en"&&i.lng!=="nl"?"default":i.lng,{year:"numeric"})})]})}),r("hr",{className:"line"}),r("h1",{children:["W",Math.ceil(Math.floor((Number(d)-Number(new Date(d.getFullYear(),0,1)))/(24*60*60*1e3))/7)]})]}),(!a&&!o||s)&&r("nav",{"aria-label":"change view",className:"right",children:[r("button",{className:"prev","aria-label":"previous week",onClick:()=>n(h=>h-1),children:r("svg",{viewBox:"0, 0, 400,400",children:r("g",{children:r("path",{id:"path0",d:"M133.594 60.920 C 129.853 62.938,1.851 191.233,0.820 193.996 C -0.234 196.823,-0.234 203.177,0.820 206.004 C 1.904 208.909,129.973 337.146,133.758 339.116 C 143.576 344.226,154.799 337.317,154.799 326.163 C 154.799 319.823,155.717 320.847,101.220 266.406 L 49.995 215.234 219.724 214.844 L 389.453 214.453 392.740 212.697 C 402.651 207.400,402.463 192.009,392.427 187.024 C 389.545 185.593,384.190 185.535,219.724 185.156 L 49.995 184.766 101.564 133.203 C 155.745 79.028,154.953 79.923,154.813 72.963 C 154.604 62.544,142.897 55.899,133.594 60.920 ",stroke:"none",fill:"currentColor",fillRule:"evenodd"})})})}),r("button",{className:"next","aria-label":"next week",onClick:()=>n(h=>h+1),children:r("svg",{viewBox:"0, 0, 400,400",children:r("g",{children:r("path",{id:"path0",d:"M133.594 60.920 C 129.853 62.938,1.851 191.233,0.820 193.996 C -0.234 196.823,-0.234 203.177,0.820 206.004 C 1.904 208.909,129.973 337.146,133.758 339.116 C 143.576 344.226,154.799 337.317,154.799 326.163 C 154.799 319.823,155.717 320.847,101.220 266.406 L 49.995 215.234 219.724 214.844 L 389.453 214.453 392.740 212.697 C 402.651 207.400,402.463 192.009,392.427 187.024 C 389.545 185.593,384.190 185.535,219.724 185.156 L 49.995 184.766 101.564 133.203 C 155.745 79.028,154.953 79.923,154.813 72.963 C 154.604 62.544,142.897 55.899,133.594 60.920 ",stroke:"none",fill:"currentColor",fillRule:"evenodd"})})})})]})]})},Tt=()=>{const{isDesktop:e,announcementsLoad:n}=P(),[t,a]=b(0),[o,l]=b(!1),[i,s]=b(!1),[d,h]=b(!1),[c,p]=b(!1),[_,u]=b(!1),[m,y]=b(),g=new Date;gt("keydown",v);function v(D){switch(D.key){case"ArrowLeft":a(T=>T-1);break;case"ArrowRight":a(T=>T+1);break}}const C=D=>{y(D),p(!0)},M=()=>{p(!1),setTimeout(()=>{y(null)},150)},k=D=>{y(D),u(!0)},$=()=>{u(!1),setTimeout(()=>{y(null)},150)};return r("div",{className:`${o?"show-menu ":""}app`,children:[r($t,{setMenuOpen:l,showSettings:d,showAnnouncements:i,setShowSettings:h,setShowAnnouncements:s}),(e||i)&&r(St,{announcements:n}),d&&r(kt,{}),r("main",{className:"schedule",children:[r(Dt,{offset:t,setOffset:a,currentDay:g,showAnnouncements:i,showSettings:d,setMenuOpen:l}),r(Ct,{offset:t,currentDay:g,choiceModalOpen:_,openLessonModal:C,openChoiceModal:k}),r(wt,{lessonModalOpen:c,closeLessonModal:M,selectedLesson:m}),r(Nt,{choiceModalOpen:_,closeChoiceModal:$,selectedLesson:m})]})]})};at(r(yt,{children:r(Tt,{})}),document.body);
