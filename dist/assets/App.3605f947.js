import{c as J,o as K,u as j,i as n,a as l,b as U,d as S,e as G,t as d,F as W,S as h,f as I,s as R,l as Q,_ as X,g as z,h as he,j as x,k as ee,m as se,n as oe,p as te,q as ge,r as ne}from"./index.771b03eb.js";import{T as M}from"./Translate.7bcbe563.js";const $e=e=>{let s=e.handler;J(()=>{if(!(e.element&&e.element.addEventListener))return;const o=a=>s(a);e.element.addEventListener(e.eventName,o),K(()=>e.element.removeEventListener(e.eventName,o))})};const fe=d('<aside class="settings" aria-labelledby="settings-header"><h1 id="settings-header"></h1><div><label for="lng">:</label><select id="lng"><option value="nl">NL</option><option value="en">EN</option></select></div><div><label for="theme">:</label><select id="theme"><option value="light"></option><option value="dark"></option></select></div><div><label for="choices">:</label><select id="choices"><option value="false"></option><option value="true"></option></select></div></aside>'),me=()=>{const{settings:e,updateSettings:s}=j();return(()=>{const t=fe.cloneNode(!0),o=t.firstChild,a=o.nextSibling,r=a.firstChild,c=r.firstChild,$=r.nextSibling,g=a.nextSibling,f=g.firstChild,p=f.firstChild,i=f.nextSibling,u=i.firstChild,m=u.nextSibling,E=g.nextSibling,B=E.firstChild,v=B.firstChild,C=B.nextSibling,N=C.firstChild,L=N.nextSibling;return n(o,l(M,{nlString:"Instellingen",enString:"Settings"})),n(r,l(M,{nlString:"Taal",enString:"Language"}),c),U($,"input",s("lng"),!0),n(f,l(M,{nlString:"Thema",enString:"Theme"}),p),U(i,"input",s("theme"),!0),n(u,l(M,{nlString:"Licht",enString:"Light"})),n(m,l(M,{nlString:"Donker",enString:"Dark"})),n(B,l(M,{nlString:"Toon Inschrijvingen",enString:"Show Enrollments"}),v),U(C,"input",s("showChoices"),!0),n(N,l(M,{nlString:"Nee",enString:"No"})),n(L,l(M,{nlString:"Ja",enString:"Yes"})),S(()=>$.value=e.lng),S(()=>i.value=e.theme),S(()=>C.value=e.showChoices),t})()};G(["input"]);const ve=d('<aside aria-labelledby="announcements-header"><h1 id="announcements-header"></h1></aside>'),_e=d("<h2></h2>"),Ce=d('<article class="announcement"><header><h1></h1><div><div class="plusminus"><span></span><span></span></div></div></header><div></div></article>'),be=e=>{const{isDesktop:s}=j();return(()=>{const t=ve.cloneNode(!0),o=t.firstChild;return n(o,l(M,{nlString:"Mededelingen",enString:"Announcements"})),n(t,l(h,{get when(){return e.announcements().length!==0},get fallback(){return(()=>{const a=_e.cloneNode(!0);return n(a,l(M,{nlString:"Geen actuele mededelingen",enString:"No current announcements"})),a})()},get children(){return l(W,{get each(){return e.announcements()},children:a=>(()=>{const r=Ce.cloneNode(!0),c=r.firstChild,$=c.firstChild,g=c.nextSibling;return n($,()=>a.title),n(g,()=>a.text),r})()})}}),null),S(()=>I(t,`${s()?"":"mobile "}announcements`)),t})()};const we=d('<button aria-label="add account" class="add-account"><svg viewBox="0 0 1024 1024"><path d="M960 448H576V64a64 64 0 0 0-128 0v384H64a64 64 0 0 0 0 128h384v384a64 64 0 0 0 128 0V576h384a64 64 0 0 0 0-128z" fill="currentColor"></path></svg><span></span></button>'),Se=d('<button aria-label="announcements"><svg viewBox="0 0 1024 1024"><path d="M853.333333 85.333333H170.666667C123.52 85.333333 85.76 123.52 85.76 170.666667L85.333333 938.666667l170.666667-170.666667h597.333333c47.146667 0 85.333333-38.186667 85.333334-85.333333V170.666667c0-47.146667-38.186667-85.333333-85.333334-85.333334zM554.666667 469.333333h-85.333334V213.333333h85.333334v256z m0 170.666667h-85.333334v-85.333333h85.333334v85.333333z" fill="currentColor"></path></svg><span></span></button>'),pe=d('<nav class="navbar" aria-label="primary" id="primary-navigation"><svg class="logo" viewBox="0 0 512 512"><title>Logo</title><g><rect width="512" height="512" rx="100" ry="100"></rect><path d="M374.75,217.71c21.32-33.81,28.64-70.97,29.03-110.31h9.99c0,6.54,.42,13.31-.07,20.01-1.98,26.96-7.88,52.96-19.48,77.55-.98,2.07-.74,5.17-.06,7.51,9.42,32.52,8.61,64.75-2.16,96.83-1.28,3.8-3.08,4.96-7.09,4.94-38.32-.18-76.65-.22-114.97,.03-5.18,.03-8.14-1.11-8.93-6.43-.26-1.77-1.03-3.47-1.69-5.63,1.93-.77,3.73-1.53,5.56-2.23,30.95-11.75,59.96-26.93,83.58-50.55,9.59-9.59,17.46-20.9,26.31-31.73Z"></path><path d="M112.28,256.06c.29-16.74,2.97-32.59,7.96-48.07,.94-2.92,2.25-4.14,5.57-4.13,36.81,.14,73.61,.14,110.42,0,3.34-.01,4.81,1.1,5.42,4.19,.47,2.41,1.29,4.76,2.08,7.59-87.66,33.62-135.85,95.31-135.71,191.4h-10.74c0-2.29-.06-4.53,0-6.78,.98-32.12,6.84-63.12,20.88-92.31,.89-1.84,.93-4.55,.36-6.57-4.17-14.67-6.26-29.61-6.25-45.33Z"></path><path d="M188,151.87h-32.71c52.4-59.33,150.04-59.57,202.3,0H188Z"></path><path d="M289.47,403.52c-55.31,13.05-104.8-8.89-131.52-37.35h197.71c-19.13,18.65-40.75,30.94-66.19,37.35Z"></path><path d="M255.45,290.03c-1.12-2.54-1.95-4.88-2.94-7.71,2.02-.8,3.81-1.56,5.63-2.24,29.66-11.04,56.95-25.91,79.34-48.8,25.19-25.77,38.74-57.01,43.43-92.35,1.37-10.36,1.83-20.84,2.73-31.61h8.12c-.18,35.83-6.67,70.09-25.59,101.12-25.69,42.13-64.92,66.25-110.71,81.59Z"></path><path d="M167.44,290.48c-28.59,33.73-38.59,73.33-38.85,116.54h-8.58c.03-35.29,6.74-68.83,24.65-99.76,19.52-33.71,55.88-63.25,102.72-79.87,.78,2.65,1.54,5.27,2.42,8.26-31.45,12.38-59.88,28.85-82.36,54.82Z"></path></g></svg><hr class="separator"><ul class="accounts"></ul><section class="buttons"><button aria-label="settings"><svg viewBox="0 0 48 48"><path d="M0 0h48v48h-48z" fill="none"></path><path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97l-.75-5.3c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3c-1.22.51-2.35 1.17-3.38 1.97l-4.98-2.01c-.45-.17-.97 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31c-.08.64-.14 1.29-.14 1.95s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3c1.22-.51 2.35-1.17 3.38-1.97l4.98 2.01c.45.17.97 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zm-14.86 5.05c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z" fill="currentColor"></path></svg><span></span></button></section><button title="logout" aria-label="logout" class="logout"><svg viewBox="0 0 490.3 490.3"><path d="M0,121.05v248.2c0,34.2,27.9,62.1,62.1,62.1h200.6c34.2,0,62.1-27.9,62.1-62.1v-40.2c0-6.8-5.5-12.3-12.3-12.3s-12.3,5.5-12.3,12.3v40.2c0,20.7-16.9,37.6-37.6,37.6H62.1c-20.7,0-37.6-16.9-37.6-37.6v-248.2c0-20.7,16.9-37.6,37.6-37.6h200.6c20.7,0,37.6,16.9,37.6,37.6v40.2c0,6.8,5.5,12.3,12.3,12.3s12.3-5.5,12.3-12.3v-40.2c0-34.2-27.9-62.1-62.1-62.1H62.1C27.9,58.95,0,86.75,0,121.05z" fill="currentColor"></path><path d="M385.4,337.65c2.4,2.4,5.5,3.6,8.7,3.6s6.3-1.2,8.7-3.6l83.9-83.9c4.8-4.8,4.8-12.5,0-17.3l-83.9-83.9c-4.8-4.8-12.5-4.8-17.3,0s-4.8,12.5,0,17.3l63,63H218.6c-6.8,0-12.3,5.5-12.3,12.3c0,6.8,5.5,12.3,12.3,12.3h229.8l-63,63C380.6,325.15,380.6,332.95,385.4,337.65z" fill="currentColor"></path></svg></button></nav>'),Me=d("<li><button><span></span></button></li>"),Ne=e=>{const{isDesktop:s,accounts:t,currentAccount:o,switchAccount:a,toggleAddAccount:r,logOut:c}=j();return(()=>{const $=pe.cloneNode(!0),g=$.firstChild,f=g.nextSibling,p=f.nextSibling,i=p.nextSibling,u=i.firstChild,m=u.firstChild,E=m.nextSibling,B=i.nextSibling;return n(p,l(h,{get when(){return t().length!==0},get children(){return l(W,{get each(){return t()},children:(v,C)=>(()=>{const N=Me.cloneNode(!0),L=N.firstChild,V=L.firstChild;return L.$$click=()=>{e.setMenuOpen(!1),a(C()),e.setShowSettings(!1),e.setShowAnnouncements(!1)},n(L,()=>v.accountName.substring(0,2),V),n(V,()=>v.accountName),S(D=>{const k=`${!e.showSettings()&&!e.showAnnouncements()&&o()===C()?"active":""}`,Y=`switch to ${v.accountName}`;return k!==D._v$&&I(L,D._v$=k),Y!==D._v$2&&R(L,"aria-label",D._v$2=Y),D},{_v$:void 0,_v$2:void 0}),N})()})}})),n(i,l(h,{get when(){return t().length<5},get children(){const v=we.cloneNode(!0),C=v.firstChild,N=C.nextSibling;return v.$$click=()=>{r(),e.setShowSettings(!1),e.setShowAnnouncements(!1)},n(N,l(M,{nlString:"Account Toevoegen",enString:"Add Account"})),v}}),u),n(i,l(h,{get when(){return!s()},get children(){const v=Se.cloneNode(!0),C=v.firstChild,N=C.nextSibling;return v.$$click=()=>{e.setMenuOpen(!1),e.setShowSettings(!1),e.setShowAnnouncements(L=>!L)},n(N,l(M,{nlString:"Mededelingen",enString:"Announcements"})),S(()=>I(v,`${e.showAnnouncements()?"active ":""}announcements-btn`)),v}}),u),u.$$click=()=>{e.setMenuOpen(!1),e.setShowSettings(v=>!v),e.setShowAnnouncements(!1)},n(E,l(M,{nlString:"Instellingen",enString:"Settings"})),U(B,"click",c,!0),S(()=>I(u,`${e.showSettings()?"active ":""}settings-btn`)),$})()};G(["click"]);const Le=d('<button tabindex="0" aria-label="menu" aria-controls="primary-navigation" class="menu-hamburger"><svg viewBox="0 0 32 32" aria-hidden="true"><path fill="currentColor" d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"></path></svg></button>'),ke=d('<nav aria-label="change view" class="right"><button class="prev" aria-label="previous week"><svg viewBox="0, 0, 400,400" aria-hidden="true"><g><path id="path0" d="M133.594 60.920 C 129.853 62.938,1.851 191.233,0.820 193.996 C -0.234 196.823,-0.234 203.177,0.820 206.004 C 1.904 208.909,129.973 337.146,133.758 339.116 C 143.576 344.226,154.799 337.317,154.799 326.163 C 154.799 319.823,155.717 320.847,101.220 266.406 L 49.995 215.234 219.724 214.844 L 389.453 214.453 392.740 212.697 C 402.651 207.400,402.463 192.009,392.427 187.024 C 389.545 185.593,384.190 185.535,219.724 185.156 L 49.995 184.766 101.564 133.203 C 155.745 79.028,154.953 79.923,154.813 72.963 C 154.604 62.544,142.897 55.899,133.594 60.920 " stroke="none" fill="currentColor" fill-rule="evenodd"></path></g></svg></button><button class="next" aria-label="next week"><svg viewBox="0, 0, 400,400" aria-hidden="true"><g><path id="path0" d="M133.594 60.920 C 129.853 62.938,1.851 191.233,0.820 193.996 C -0.234 196.823,-0.234 203.177,0.820 206.004 C 1.904 208.909,129.973 337.146,133.758 339.116 C 143.576 344.226,154.799 337.317,154.799 326.163 C 154.799 319.823,155.717 320.847,101.220 266.406 L 49.995 215.234 219.724 214.844 L 389.453 214.453 392.740 212.697 C 402.651 207.400,402.463 192.009,392.427 187.024 C 389.545 185.593,384.190 185.535,219.724 185.156 L 49.995 184.766 101.564 133.203 C 155.745 79.028,154.953 79.923,154.813 72.963 C 154.604 62.544,142.897 55.899,133.594 60.920 " stroke="none" fill="currentColor" fill-rule="evenodd"></path></g></svg></button></nav>'),De=d('<button class="add-appointment" aria-label="add appointment"><svg viewBox="0 0 1024 1024"><path d="M960 448H576V64a64 64 0 0 0-128 0v384H64a64 64 0 0 0 0 128h384v384a64 64 0 0 0 128 0V576h384a64 64 0 0 0 0-128z" fill="currentColor"></path></svg></button>'),xe=d('<header class="header"><section aria-label="date"><time></time><hr class="line"><h1>W</h1></section></header>'),le=d("<span></span>"),ye=Q(()=>X(()=>import("./index.6a81257c.js"),["assets/index.6a81257c.js","assets/index.771b03eb.js","assets/index.fccce2f6.css","assets/Translate.7bcbe563.js","assets/index.dc767870.css"]).then(e=>({default:e.AddAppointmentModal}))),Ae=e=>{const{settings:s,isDesktop:t}=j(),o=z(()=>he(new Date,e.offset())),[a,r]=x(!1);return[(()=>{const c=xe.cloneNode(!0),$=c.firstChild,g=$.firstChild,f=g.nextSibling,p=f.nextSibling;return p.firstChild,n(c,l(h,{get when(){return!t()},get children(){const i=Le.cloneNode(!0);return i.$$click=()=>e.setMenuOpen(!e.menuOpen()),S(()=>R(i,"aria-expanded",`${e.menuOpen()}`)),i}}),$),R(g,"datetime",`${new Date}`),n(g,[(()=>{const i=le.cloneNode(!0);return n(i,()=>ee(o()).toLocaleString(s.lng||"default",{month:`${t()?"long":"short"}`})),i})(),(()=>{const i=le.cloneNode(!0);return n(i,()=>ee(o()).toLocaleString(s.lng||"default",{year:"numeric"})),i})()]),n(p,()=>Math.ceil(Math.floor((Number(o())-Number(new Date(o().getFullYear(),0,1)))/(24*60*60*1e3))/7),null),n(c,l(h,{get when(){return z(()=>!e.showAnnouncements())()&&!e.showSettings()||t()},get children(){return[(()=>{const i=ke.cloneNode(!0),u=i.firstChild,m=u.nextSibling;return u.$$click=()=>e.setOffset(e.offset()-1),m.$$click=()=>e.setOffset(e.offset()+1),i})(),l(h,{get when(){return t()&&s.enableCustom==="true"},get children(){const i=De.cloneNode(!0);return i.$$click=()=>r(!a()),i}})]}}),null),c})(),l(se,{get children(){return l(h,{get when(){return a()},get children(){return l(ye,{setAddAppointmentOpen:r})}})}})]};G(["click"]);const Oe=d("<article></article>"),He=d('<section class="choice-content"><h1></h1></section>'),Te=d('<svg class="unlocked" viewBox="0 0 1024 1024"><path d="M960 448H576V64a64 64 0 0 0-128 0v384H64a64 64 0 0 0 0 128h384v384a64 64 0 0 0 128 0V576h384a64 64 0 0 0 0-128z" fill="currentColor"></path></svg>'),ae=d('<section class="content-right"></section>'),ze=d('<svg class="locked" viewBox="0, 0, 400,400"><g><path d="M179.388 1.194 C 136.339 8.424,100.785 37.404,84.474 78.560 C 77.373 96.477,75.781 107.250,75.781 137.380 L 75.781 160.714 69.541 161.142 C 59.010 161.864,52.177 166.780,48.268 176.448 L 46.484 180.859 46.266 279.297 C 46.049 377.177,46.057 377.763,47.674 382.813 C 49.833 389.553,53.705 394.717,58.782 397.629 L 62.891 399.985 200.000 399.985 L 337.109 399.985 341.218 397.629 C 346.226 394.757,350.123 389.609,352.297 382.991 C 354.795 375.386,354.829 186.670,352.333 178.793 C 348.532 166.798,340.574 160.938,328.087 160.938 L 324.219 160.938 324.219 137.492 C 324.219 107.239,322.634 96.495,315.526 78.560 C 293.788 23.708,237.112 -8.499,179.388 1.194 M218.614 54.625 C 243.456 61.846,262.851 81.282,269.515 105.634 C 271.799 113.981,272.627 124.022,272.643 143.555 L 272.656 160.938 200.000 160.938 L 127.344 160.938 127.357 143.555 C 127.373 124.022,128.201 113.981,130.485 105.634 C 140.852 67.751,181.945 43.966,218.614 54.625 M210.991 225.479 C 231.204 231.481,240.187 256.417,228.638 274.470 C 227.138 276.815,225.530 278.969,225.065 279.257 C 224.482 279.617,224.218 288.937,224.216 309.226 C 224.212 348.899,225.517 346.869,200.000 346.869 C 174.483 346.869,175.788 348.899,175.784 309.226 C 175.782 288.937,175.518 279.617,174.935 279.257 C 170.903 276.765,166.268 264.888,166.268 257.045 C 166.268 234.137,188.146 218.695,210.991 225.479 " fill="currentColor"></path></g></svg>'),Ee=d('<div aria-label="teacher"><span class="change"></span></div>'),Be=d('<div aria-label="location"><span class="change"></span></div>'),Ve=d('<div class="times"><time aria-label="lesson start">:</time>-<time aria-label="lesson end">:</time><span class="change"></span></div>'),Ie=d('<section class="content-left"><h1 aria-label="subject"></h1></section>'),Re=d("<span></span>"),je=d(`<svg viewBox="0 0 123.996 123.996"><g><path d="M9.821,118.048h104.4c7.3,0,12-7.7,8.7-14.2l-52.2-92.5c-3.601-7.199-13.9-7.199-17.5,0l-52.2,92.5
                C-2.179,110.348,2.521,118.048,9.821,118.048z M70.222,96.548c0,4.8-3.5,8.5-8.5,8.5s-8.5-3.7-8.5-8.5v-0.2c0-4.8,3.5-8.5,8.5-8.5
                s8.5,3.7,8.5,8.5V96.548z M57.121,34.048h9.801c2.699,0,4.3,2.3,4,5.2l-4.301,37.6c-0.3,2.7-2.1,4.4-4.6,4.4s-4.3-1.7-4.6-4.4
                l-4.301-37.6C52.821,36.348,54.422,34.048,57.121,34.048z" fill="currentColor"></path></g></svg>`),Pe=d('<svg class="options" viewBox="0 0 1024 1024"><path d="M960 448H576V64a64 64 0 0 0-128 0v384H64a64 64 0 0 0 0 128h384v384a64 64 0 0 0 128 0V576h384a64 64 0 0 0 0-128z" fill="currentColor"></path></svg>'),Ze=e=>{const s=z(()=>`lesson-block ${e.lesson.appointmentType} ${e.className} ${e.lesson.cancelled?"cancelled":""} ${e.lesson.appointmentType==="choice"?e.lesson.actions?.some(t=>t.allowed===!0)?"allowed":"locked":""}`);return(()=>{const t=Oe.cloneNode(!0);return U(t,"click",e.onClick,!0),n(t,l(h,{get when(){return e.lesson.appointmentType!=="choice"},get fallback(){return l(Fe,{get lesson(){return e.lesson}})},get children(){return l(Ue,{get lesson(){return e.lesson},get isDesktop(){return e.isDesktop}})}})),S(o=>{const a=s().replace(/\s+/g," ").trim(),r=e.style;return a!==o._v$&&I(t,o._v$=a),o._v$2=oe(t,r,o._v$2),o},{_v$:void 0,_v$2:void 0}),t})()},Fe=e=>[(()=>{const s=He.cloneNode(!0),t=s.firstChild;return n(t,()=>e.lesson.actions?.length||0),s})(),(()=>{const s=ae.cloneNode(!0);return n(s,l(h,{get when(){return z(()=>!!e.lesson.actions)()&&e.lesson.actions.some(t=>t.allowed!==!1)},get fallback(){return ze.cloneNode(!0)},get children(){return Te.cloneNode(!0)}})),s})()],Ue=e=>{const s=e.lesson.appointmentType==="conflict"&&e.lesson.actions?e.lesson.actions[0].appointment:e.lesson;return[(()=>{const t=Ie.cloneNode(!0),o=t.firstChild;return n(o,l(h,{get when(){return s.appointmentType==="choice"},fallback:"",get children(){return l(M,{nlString:"keuze",enString:"choice"})}}),null),n(o,()=>s.subjects.length<=1?s.subjects[0]:`${s.subjects[0]}, ${s.subjects[1]}${s.subjects.length>2?"+":""}`,null),n(t,l(h,{get when(){return e.isDesktop()&&s.teachers&&s.teachers.length>0},get children(){const a=Ee.cloneNode(!0),r=a.firstChild;return n(a,(()=>{const c=z(()=>s.teachers.length<=1);return()=>c()?s.teachers[0].toUpperCase():`${s.teachers[0].toUpperCase()}, ${s.teachers[1].toUpperCase()}${s.teachers.length>2?"+":""}`})(),r),n(r,()=>s.status?.some(c=>c.code===3011)),a}}),null),n(t,l(h,{get when(){return s.locations&&s.locations.length>0},get children(){const a=Be.cloneNode(!0),r=a.firstChild;return n(a,()=>s.locations.length<=1?s.locations[0]:`${s.locations[0]}, ${s.locations[1]}${s.locations.length>2?"+":""}`,r),n(r,()=>s.status?.some(c=>c.code===3012)),a}}),null),n(t,l(h,{get when(){return e.isDesktop()},get children(){const a=Ve.cloneNode(!0),r=a.firstChild,c=r.firstChild,$=r.nextSibling,g=$.nextSibling,f=g.firstChild,p=g.nextSibling;return n(r,()=>String(new Date(e.lesson.start*1e3).getHours()),c),n(r,()=>String(new Date(e.lesson.start*1e3).getMinutes()).padStart(2,"0"),null),n(g,()=>String(new Date(e.lesson.end*1e3).getHours()),f),n(g,()=>String(new Date(e.lesson.end*1e3).getMinutes()).padStart(2,"0"),null),n(p,()=>e.lesson.status?.some(i=>i.code===3015)),S(i=>{const u=`${new Date(e.lesson.start*1e3)}`,m=`${new Date(e.lesson.end*1e3)}`;return u!==i._v$3&&R(r,"datetime",i._v$3=u),m!==i._v$4&&R(g,"datetime",i._v$4=m),i},{_v$3:void 0,_v$4:void 0}),a}}),null),t})(),(()=>{const t=ae.cloneNode(!0);return n(t,l(h,{get when(){return e.isDesktop()},get children(){const o=Re.cloneNode(!0);return n(o,()=>e.lesson.startTimeSlotName),o}}),null),n(t,l(h,{get when(){return s.changeDescription||s.cancelled||s.schedulerRemark||s.status?.some(o=>o.code.toString().startsWith("4")&&o.code!==4009||o.code.toString().startsWith("3"))},get children(){return je.cloneNode(!0)}}),null),n(t,l(h,{get when(){return e.lesson.actions&&e.lesson.actions.length!==0},get children(){return Pe.cloneNode(!0)}}),null),t})()]};G(["click"]);const F=e=>{const{isDesktop:s}=j();return l(h,{get when(){return e.schedule()[e.dayNumber]?.length!==0},get children(){return l(W,{get each(){return e.schedule()[e.dayNumber]},children:t=>{let o=(new Date(t.start*1e3).getHours()-e.scheduleMin)*12+new Date(t.start*1e3).getMinutes()/5+3,a=(new Date(t.end*1e3).getHours()-e.scheduleMin)*12+new Date(t.end*1e3).getMinutes()/5+3;const r=t.actions&&t.actions.length!==0?()=>{e.openChoiceModal(t)}:()=>{e.openLessonModal(t)};return l(Ze,{isDesktop:s,lesson:t,className:`${a-o<=5?"wrap":""}`,onClick:r,get style(){return{"grid-row":`${o} / ${a}`,"grid-column":`${e.dayNumber+2}/${e.dayNumber+3}`}}})}})}})},We=d('<div class="time"><time>:00</time></div>'),Ye=d('<span class="line"><hr></span>'),qe=({scheduleHours:e})=>l(W,{get each(){return e()},children:(s,t)=>[(()=>{const o=We.cloneNode(!0),a=o.firstChild,r=a.firstChild;return R(a,"datetime",`${s}:00`),n(a,s,r),S(()=>o.style.setProperty("grid-row",`${t()*12+2}/${t()*12+4}`)),o})(),(()=>{const o=Ye.cloneNode(!0);return S(()=>o.style.setProperty("grid-row",`${t()*12+2}/${t()*12+4}`)),o})()]});const Ge=d('<section aria-label="dates" class="dates"><div class="space">10:00</div><div></div></section>'),Je=d('<section aria-label="schedule" class="scroller"><div aria-label="schedule grid" class="schedule-grid"><div class="highlight"></div><div class="time-indicator"><div></div><div></div></div></div></section>'),Ke=d('<section aria-label="schedule container" class="schedule-container"></section>'),Qe=d("<time><span></span><span></span><div></div></time>"),Xe=d('<span class="loader"></span>'),et=Q(()=>X(()=>import("./index.c2b49def.js"),["assets/index.c2b49def.js","assets/index.771b03eb.js","assets/index.fccce2f6.css","assets/Translate.7bcbe563.js"]).then(e=>({default:e.LessonModal}))),tt=Q(()=>X(()=>import("./index.c5c27cf5.js"),["assets/index.c5c27cf5.js","assets/index.771b03eb.js","assets/index.fccce2f6.css","assets/Translate.7bcbe563.js"]).then(e=>({default:e.ChoiceModal}))),nt=e=>{const{user:s,settings:t,fetchLiveSchedule:o,scheduleLoad:a,datesLoad:r,scheduleHours:c}=j(),[$,g]=x(!1),[f,p]=x(a()),[i,u]=x(r()),m=z(()=>i().findIndex(_=>_.toDateString()===new Date().toDateString())),E=z(()=>(c()[c().length-1]-c()[0])*12+3),[B,v]=x(!1),[C,N]=x(!1),[L,V]=x();let D,k,Y=t.showChoices,ie=t.enableCustom,re=C();J(te(()=>[e.offset(),t.showChoices,t.enableCustom,C()],()=>{if(C()!==!1)return;if(e.offset()===e.defaultOffset()&&(u(r),e.offset()===e.defaultOffset()&&Y===t.showChoices&&ie===t.enableCustom&&re===C())){p(a);return}g(!0);const _=new AbortController,O=_.signal;(async()=>{const y=await ge(new Date,e.offset());o(s(),y,e.offset(),O).then(w=>{u(y),p(w),g(!1)})})(),K(()=>_.abort())})),J(te(()=>[$()],()=>{if(!k||!D)return;let _=new Date;if(_.getHours()>c()[c().length-1]||_.getHours()<c()[0]){k.classList.add("!hidden");return}else k.classList.remove("!hidden");let O=new Date(_.getFullYear(),_.getMonth(),_.getDate(),8,0);const b=()=>{if(!D||!k)return;let w=new Date().getTime()-O.getTime(),T=Math.floor(w/1e3/60<<0);if(T>540||T<0)k.classList.add("!hidden");else{k.classList.remove("!hidden");const H=T/(E()*5)*100,A=D.offsetHeight/E();k.style.cssText=`top: calc(${H}% + ${A}px);`}};b();const y=setInterval(()=>{b()},1e3*30);K(()=>clearInterval(y))}));const P=_=>{V(_),v(!0)},ce=()=>{v(!1),V(void 0)},Z=_=>{V(_),N(!0)},de=()=>{N(!1),V(void 0)};return[(()=>{const _=Ke.cloneNode(!0);return n(_,l(h,{get when(){return i().length>0},get children(){const O=Ge.cloneNode(!0),b=O.firstChild,y=b.nextSibling;return n(y,l(h,{get when(){return i().length!==0},get children(){return l(W,{get each(){return i()},children:(w,T)=>(()=>{const H=Qe.cloneNode(!0),A=H.firstChild,q=A.nextSibling;return R(H,"datetime",`${w}`),n(A,()=>w.getDate().toString().padStart(2,"0")),n(q,()=>w.toLocaleDateString(t.lng||"default",{weekday:"short"})),S(()=>I(H,`date ${T()===m()?"current":""}`)),H})()})}})),O}}),null),n(_,l(h,{get when(){return!$()},get fallback(){return Xe.cloneNode(!0)},get children(){const O=Je.cloneNode(!0),b=O.firstChild,y=b.firstChild,w=y.nextSibling,T=D;typeof T=="function"?ne(T,b):D=b,n(b,l(qe,{scheduleHours:c}),y),n(b,l(F,{schedule:f,get scheduleMin(){return c()[0]},dayNumber:0,openLessonModal:P,openChoiceModal:Z}),w),n(b,l(F,{schedule:f,get scheduleMin(){return c()[0]},dayNumber:1,openLessonModal:P,openChoiceModal:Z}),w),n(b,l(F,{schedule:f,get scheduleMin(){return c()[0]},dayNumber:2,openLessonModal:P,openChoiceModal:Z}),w),n(b,l(F,{schedule:f,get scheduleMin(){return c()[0]},dayNumber:3,openLessonModal:P,openChoiceModal:Z}),w),n(b,l(F,{schedule:f,get scheduleMin(){return c()[0]},dayNumber:4,openLessonModal:P,openChoiceModal:Z}),w);const H=k;return typeof H=="function"?ne(H,w):k=w,S(A=>{const q=` auto repeat(${E()},minmax(0,1fr))`,ue=m()!==-1?{"grid-row":"1 / -1","grid-column":`${m()+2}/${m()+3}`}:{display:"none"};return q!==A._v$&&b.style.setProperty("grid-template-rows",A._v$=q),A._v$2=oe(y,ue,A._v$2),A},{_v$:void 0,_v$2:void 0}),O}}),null),_})(),l(se,{get children(){return[l(h,{get when(){return B()},get children(){return l(et,{closeModal:ce,selectedLesson:L})}}),l(h,{get when(){return C()},get children(){return l(tt,{closeModal:de,selectedLesson:L})}})]}})]},lt=d('<div><main class="schedule"></main></div>');function st(){const{isDesktop:e,announcementsLoad:s}=j(),t=z(()=>new Date().getDay()===6||new Date().getDay()===0?1:0),[o,a]=x(t()),[r,c]=x(!1),[$,g]=x(!1),[f,p]=x(!1);$e({eventName:"keydown",handler:i,element:window});function i(u){switch(u.key){case"ArrowLeft":a(o()-1);break;case"ArrowRight":a(o()+1);break}}return(()=>{const u=lt.cloneNode(!0),m=u.firstChild;return n(u,l(Ne,{setMenuOpen:c,showSettings:f,showAnnouncements:$,setShowSettings:p,setShowAnnouncements:g}),m),n(u,l(h,{get when(){return e()||$()},get children(){return l(be,{announcements:s})}}),m),n(u,l(h,{get when(){return f()},get children(){return l(me,{})}}),m),n(m,l(Ae,{offset:o,setOffset:a,showAnnouncements:$,showSettings:f,menuOpen:r,setMenuOpen:c}),null),n(m,l(nt,{offset:o,defaultOffset:t}),null),S(()=>I(u,`${r()?"show-menu ":""}app`)),u})()}const it=Object.freeze(Object.defineProperty({__proto__:null,default:st},Symbol.toStringTag,{value:"Module"}));export{it as A,Ze as L};
