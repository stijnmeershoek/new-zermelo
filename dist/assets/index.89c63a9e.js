(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerpolicy&&(c.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?c.credentials="include":l.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=t(l);fetch(l.href,c)}})();var ie,m,xe,q,we,Ee,oe={},Le=[],tt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function z(n,e){for(var t in e)n[t]=e[t];return n}function Pe(n){var e=n.parentNode;e&&e.removeChild(n)}function nt(n,e,t){var o,l,c,i={};for(c in e)c=="key"?o=e[c]:c=="ref"?l=e[c]:i[c]=e[c];if(arguments.length>2&&(i.children=arguments.length>3?ie.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(c in n.defaultProps)i[c]===void 0&&(i[c]=n.defaultProps[c]);return Q(n,i,o,l,null)}function Q(n,e,t,o,l){var c={type:n,props:e,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++xe};return l==null&&m.vnode!=null&&m.vnode(c),c}function D(n){return n.children}function ee(n,e){this.props=n,this.context=e}function G(n,e){if(e==null)return n.__?G(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?G(n):null}function Ie(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return Ie(n)}}function ge(n){(!n.__d&&(n.__d=!0)&&q.push(n)&&!ae.__r++||we!==m.debounceRendering)&&((we=m.debounceRendering)||setTimeout)(ae)}function ae(){for(var n;ae.__r=q.length;)n=q.sort(function(e,t){return e.__v.__b-t.__v.__b}),q=[],n.some(function(e){var t,o,l,c,i,s;e.__d&&(i=(c=(t=e).__v).__e,(s=t.__P)&&(o=[],(l=z({},c)).__v=c.__v+1,me(s,c,l,t.__n,s.ownerSVGElement!==void 0,c.__h!=null?[i]:null,o,i??G(c),c.__h),Oe(o,c),c.__e!=i&&Ie(c)))})}function Re(n,e,t,o,l,c,i,s,u,h){var a,p,_,d,g,S,f,y=o&&o.__k||Le,v=y.length;for(t.__k=[],a=0;a<e.length;a++)if((d=t.__k[a]=(d=e[a])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?Q(null,d,null,null,d):Array.isArray(d)?Q(D,{children:d},null,null,null):d.__b>0?Q(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=t,d.__b=t.__b+1,(_=y[a])===null||_&&d.key==_.key&&d.type===_.type)y[a]=void 0;else for(p=0;p<v;p++){if((_=y[p])&&d.key==_.key&&d.type===_.type){y[p]=void 0;break}_=null}me(n,d,_=_||oe,l,c,i,s,u,h),g=d.__e,(p=d.ref)&&_.ref!=p&&(f||(f=[]),_.ref&&f.push(_.ref,null,d),f.push(p,d.__c||g,d)),g!=null?(S==null&&(S=g),typeof d.type=="function"&&d.__k===_.__k?d.__d=u=ze(d,u,n):u=je(n,d,_,y,g,u),typeof t.type=="function"&&(t.__d=u)):u&&_.__e==u&&u.parentNode!=n&&(u=G(_))}for(t.__e=S,a=v;a--;)y[a]!=null&&Fe(y[a],y[a]);if(f)for(a=0;a<f.length;a++)Ue(f[a],f[++a],f[++a])}function ze(n,e,t){for(var o,l=n.__k,c=0;l&&c<l.length;c++)(o=l[c])&&(o.__=n,e=typeof o.type=="function"?ze(o,e,t):je(t,o,o,l,o.__e,e));return e}function je(n,e,t,o,l,c){var i,s,u;if(e.__d!==void 0)i=e.__d,e.__d=void 0;else if(t==null||l!=c||l.parentNode==null)e:if(c==null||c.parentNode!==n)n.appendChild(l),i=null;else{for(s=c,u=0;(s=s.nextSibling)&&u<o.length;u+=1)if(s==l)break e;n.insertBefore(l,c),i=c}return i!==void 0?i:l.nextSibling}function rt(n,e,t,o,l){var c;for(c in t)c==="children"||c==="key"||c in e||ce(n,c,null,t[c],o);for(c in e)l&&typeof e[c]!="function"||c==="children"||c==="key"||c==="value"||c==="checked"||t[c]===e[c]||ce(n,c,e[c],t[c],o)}function Ce(n,e,t){e[0]==="-"?n.setProperty(e,t):n[e]=t==null?"":typeof t!="number"||tt.test(e)?t:t+"px"}function ce(n,e,t,o,l){var c;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof o=="string"&&(n.style.cssText=o=""),o)for(e in o)t&&e in t||Ce(n.style,e,"");if(t)for(e in t)o&&t[e]===o[e]||Ce(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")c=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+c]=t,t?o||n.addEventListener(e,c?ke:Ne,c):n.removeEventListener(e,c?ke:Ne,c);else if(e!=="dangerouslySetInnerHTML"){if(l)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function Ne(n){this.l[n.type+!1](m.event?m.event(n):n)}function ke(n){this.l[n.type+!0](m.event?m.event(n):n)}function me(n,e,t,o,l,c,i,s,u){var h,a,p,_,d,g,S,f,y,v,T,H,R,w,C,$=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(u=t.__h,s=e.__e=t.__e,e.__h=null,c=[s]),(h=m.__b)&&h(e);try{e:if(typeof $=="function"){if(f=e.props,y=(h=$.contextType)&&o[h.__c],v=h?y?y.props.value:h.__:o,t.__c?S=(a=e.__c=t.__c).__=a.__E:("prototype"in $&&$.prototype.render?e.__c=a=new $(f,v):(e.__c=a=new ee(f,v),a.constructor=$,a.render=at),y&&y.sub(a),a.props=f,a.state||(a.state={}),a.context=v,a.__n=o,p=a.__d=!0,a.__h=[],a._sb=[]),a.__s==null&&(a.__s=a.state),$.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=z({},a.__s)),z(a.__s,$.getDerivedStateFromProps(f,a.__s))),_=a.props,d=a.state,p)$.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if($.getDerivedStateFromProps==null&&f!==_&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(f,v),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(f,a.__s,v)===!1||e.__v===t.__v){for(a.props=f,a.state=a.__s,e.__v!==t.__v&&(a.__d=!1),a.__v=e,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(M){M&&(M.__=e)}),T=0;T<a._sb.length;T++)a.__h.push(a._sb[T]);a._sb=[],a.__h.length&&i.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(f,a.__s,v),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(_,d,g)})}if(a.context=v,a.props=f,a.__v=e,a.__P=n,H=m.__r,R=0,"prototype"in $&&$.prototype.render){for(a.state=a.__s,a.__d=!1,H&&H(e),h=a.render(a.props,a.state,a.context),w=0;w<a._sb.length;w++)a.__h.push(a._sb[w]);a._sb=[]}else do a.__d=!1,H&&H(e),h=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++R<25);a.state=a.__s,a.getChildContext!=null&&(o=z(z({},o),a.getChildContext())),p||a.getSnapshotBeforeUpdate==null||(g=a.getSnapshotBeforeUpdate(_,d)),C=h!=null&&h.type===D&&h.key==null?h.props.children:h,Re(n,Array.isArray(C)?C:[C],e,t,o,l,c,i,s,u),a.base=e.__e,e.__h=null,a.__h.length&&i.push(a),S&&(a.__E=a.__=null),a.__e=!1}else c==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=ot(t.__e,e,t,o,l,c,i,u);(h=m.diffed)&&h(e)}catch(M){e.__v=null,(u||c!=null)&&(e.__e=s,e.__h=!!u,c[c.indexOf(s)]=null),m.__e(M,e,t)}}function Oe(n,e){m.__c&&m.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(o){o.call(t)})}catch(o){m.__e(o,t.__v)}})}function ot(n,e,t,o,l,c,i,s){var u,h,a,p=t.props,_=e.props,d=e.type,g=0;if(d==="svg"&&(l=!0),c!=null){for(;g<c.length;g++)if((u=c[g])&&"setAttribute"in u==!!d&&(d?u.localName===d:u.nodeType===3)){n=u,c[g]=null;break}}if(n==null){if(d===null)return document.createTextNode(_);n=l?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,_.is&&_),c=null,s=!1}if(d===null)p===_||s&&n.data===_||(n.data=_);else{if(c=c&&ie.call(n.childNodes),h=(p=t.props||oe).dangerouslySetInnerHTML,a=_.dangerouslySetInnerHTML,!s){if(c!=null)for(p={},g=0;g<n.attributes.length;g++)p[n.attributes[g].name]=n.attributes[g].value;(a||h)&&(a&&(h&&a.__html==h.__html||a.__html===n.innerHTML)||(n.innerHTML=a&&a.__html||""))}if(rt(n,_,p,l,s),a)e.__k=[];else if(g=e.props.children,Re(n,Array.isArray(g)?g:[g],e,t,o,l&&d!=="foreignObject",c,i,c?c[0]:t.__k&&G(t,0),s),c!=null)for(g=c.length;g--;)c[g]!=null&&Pe(c[g]);s||("value"in _&&(g=_.value)!==void 0&&(g!==n.value||d==="progress"&&!g||d==="option"&&g!==p.value)&&ce(n,"value",g,p.value,!1),"checked"in _&&(g=_.checked)!==void 0&&g!==n.checked&&ce(n,"checked",g,p.checked,!1))}return n}function Ue(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(o){m.__e(o,t)}}function Fe(n,e,t){var o,l;if(m.unmount&&m.unmount(n),(o=n.ref)&&(o.current&&o.current!==n.__e||Ue(o,null,e)),(o=n.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(c){m.__e(c,e)}o.base=o.__P=null,n.__c=void 0}if(o=n.__k)for(l=0;l<o.length;l++)o[l]&&Fe(o[l],e,t||typeof n.type!="function");t||n.__e==null||Pe(n.__e),n.__=n.__e=n.__d=void 0}function at(n,e,t){return this.constructor(n,t)}function ct(n,e,t){var o,l,c;m.__&&m.__(n,e),l=(o=typeof t=="function")?null:t&&t.__k||e.__k,c=[],me(e,n=(!o&&t||e).__k=nt(D,null,[n]),l||oe,oe,e.ownerSVGElement!==void 0,!o&&t?[t]:l?null:e.firstChild?ie.call(e.childNodes):null,c,!o&&t?t:l?l.__e:e.firstChild,o),Oe(c,n)}function lt(n,e){var t={__c:e="__cC"+Ee++,__:n,Consumer:function(o,l){return o.children(l)},Provider:function(o){var l,c;return this.getChildContext||(l=[],(c={})[e]=this,this.getChildContext=function(){return c},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&l.some(ge)},this.sub=function(i){l.push(i);var s=i.componentWillUnmount;i.componentWillUnmount=function(){l.splice(l.indexOf(i),1),s&&s.call(i)}}),o.children}};return t.Provider.__=t.Consumer.contextType=t}ie=Le.slice,m={__e:function(n,e,t,o){for(var l,c,i;e=e.__;)if((l=e.__c)&&!l.__)try{if((c=l.constructor)&&c.getDerivedStateFromError!=null&&(l.setState(c.getDerivedStateFromError(n)),i=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(n,o||{}),i=l.__d),i)return l.__E=l}catch(s){n=s}throw n}},xe=0,ee.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=z({},this.state),typeof n=="function"&&(n=n(z({},t),this.props)),n&&z(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),ge(this))},ee.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),ge(this))},ee.prototype.render=D,q=[],ae.__r=0,Ee=0;var U,k,_e,Se,le=0,Be=[],te=[],$e=m.__b,De=m.__r,Te=m.diffed,Ae=m.__c,He=m.unmount;function Y(n,e){m.__h&&m.__h(k,n,le||e),le=0;var t=k.__H||(k.__H={__:[],__h:[]});return n>=t.__.length&&t.__.push({__V:te}),t.__[n]}function b(n){return le=1,it(Ve,n)}function it(n,e,t){var o=Y(U++,2);if(o.t=n,!o.__c&&(o.__=[t?t(e):Ve(void 0,e),function(c){var i=o.__N?o.__N[0]:o.__[0],s=o.t(i,c);i!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=k,!k.u)){k.u=!0;var l=k.shouldComponentUpdate;k.shouldComponentUpdate=function(c,i,s){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(a){return a.__c});if(u.every(function(a){return!a.__N}))return!l||l.call(this,c,i,s);var h=!1;return u.forEach(function(a){if(a.__N){var p=a.__[0];a.__=a.__N,a.__N=void 0,p!==a.__[0]&&(h=!0)}}),!(!h&&o.__c.props===c)&&(!l||l.call(this,c,i,s))}}return o.__N||o.__}function j(n,e){var t=Y(U++,3);!m.__s&&ve(t.__H,e)&&(t.__=n,t.i=e,k.__H.__h.push(t))}function st(n,e){var t=Y(U++,4);!m.__s&&ve(t.__H,e)&&(t.__=n,t.i=e,k.__h.push(t))}function J(n){return le=5,ut(function(){return{current:n}},[])}function ut(n,e){var t=Y(U++,7);return ve(t.__H,e)?(t.__V=n(),t.i=e,t.__h=n,t.__V):t.__}function ht(n){var e=k.context[n.__c],t=Y(U++,9);return t.c=n,e?(t.__==null&&(t.__=!0,e.sub(k)),e.props.value):n.__}function dt(){for(var n;n=Be.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(ne),n.__H.__h.forEach(pe),n.__H.__h=[]}catch(e){n.__H.__h=[],m.__e(e,n.__v)}}m.__b=function(n){k=null,$e&&$e(n)},m.__r=function(n){De&&De(n),U=0;var e=(k=n.__c).__H;e&&(_e===k?(e.__h=[],k.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=te,t.__N=t.i=void 0})):(e.__h.forEach(ne),e.__h.forEach(pe),e.__h=[])),_e=k},m.diffed=function(n){Te&&Te(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(Be.push(e)!==1&&Se===m.requestAnimationFrame||((Se=m.requestAnimationFrame)||_t)(dt)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==te&&(t.__=t.__V),t.i=void 0,t.__V=te})),_e=k=null},m.__c=function(n,e){e.some(function(t){try{t.__h.forEach(ne),t.__h=t.__h.filter(function(o){return!o.__||pe(o)})}catch(o){e.some(function(l){l.__h&&(l.__h=[])}),e=[],m.__e(o,t.__v)}}),Ae&&Ae(n,e)},m.unmount=function(n){He&&He(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(o){try{ne(o)}catch(l){e=l}}),t.__H=void 0,e&&m.__e(e,t.__v))};var Me=typeof requestAnimationFrame=="function";function _t(n){var e,t=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(n)},o=setTimeout(t,100);Me&&(e=requestAnimationFrame(t))}function ne(n){var e=k,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),k=e}function pe(n){var e=k;n.__c=n.__(),k=e}function ve(n,e){return!n||n.length!==e.length||e.some(function(t,o){return t!==n[o]})}function Ve(n,e){return typeof e=="function"?e(n):e}function We(n){return`https://${n}.zportal.nl`}async function gt(n,e){const t=We(n),o=await fetch(`${t}/api/v3/oauth/token?grant_type=authorization_code&code=${e}`,{method:"POST"});if(!o.ok)return await Promise.reject(Error("Server returned an error. you probably entered an invalid code."));const l=await o.json();return l.access_token?await Promise.resolve(l.access_token):await Promise.reject(Error("No access token could be retrieved from server."))}const re=async(n,e,t,o,l)=>{if(n!=="GET"&&n!=="POST")return;const c=We(o),i=await fetch(`${c}${e}`,{method:n,headers:{Authorization:`Bearer ${t}`},signal:l});if(!i.ok)throw new Error(`Server returned with an error (${i.status})`);const s=await i.json();if(s)return s;throw new Error("Server returned with an error")};var pt=0;function r(n,e,t,o,l){var c,i,s={};for(i in e)i=="ref"?c=e[i]:s[i]=e[i];var u={type:n,props:s,key:t,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--pt,__source:l,__self:o};if(typeof n=="function"&&(c=n.defaultProps))for(i in c)s[i]===void 0&&(s[i]=c[i]);return m.vnode&&m.vnode(u),u}function ft({addAccount:n}){const{localPREFIX:e,settings:t,logIn:o,goBack:l}=x(),[c,i]=b(""),[s,u]=b(""),[h,a]=b(""),[p,_]=b(""),d=(g,S,f)=>{i("");const y=JSON.parse(localStorage.getItem(`${e}-accounts`)||"[]");if(y.some(v=>v.accountName===f)){i(`${t.lng==="nl"?"Er bestaat al een account met deze naam.":(t.lng==="en","An account with this name already exists.")}`);return}gt(g,S).then(v=>{o({accountName:f,school:g,accessToken:v},y)}).catch(v=>{i(v.message)})};return r("div",{className:"login",children:[n&&r("button",{className:"back","aria-label":"go back",onClick:l,children:r("svg",{viewBox:"0, 0, 400,400",children:r("g",{children:r("path",{id:"path0",d:"M133.594 60.920 C 129.853 62.938,1.851 191.233,0.820 193.996 C -0.234 196.823,-0.234 203.177,0.820 206.004 C 1.904 208.909,129.973 337.146,133.758 339.116 C 143.576 344.226,154.799 337.317,154.799 326.163 C 154.799 319.823,155.717 320.847,101.220 266.406 L 49.995 215.234 219.724 214.844 L 389.453 214.453 392.740 212.697 C 402.651 207.400,402.463 192.009,392.427 187.024 C 389.545 185.593,384.190 185.535,219.724 185.156 L 49.995 184.766 101.564 133.203 C 155.745 79.028,154.953 79.923,154.813 72.963 C 154.604 62.544,142.897 55.899,133.594 60.920 ",stroke:"none",fill:"currentColor",fillRule:"evenodd"})})})}),r("form",{onSubmit:g=>{g.preventDefault(),d(h,p,s)},children:[r("h1",{children:n?t.lng==="nl"?"Account Toevoegen":(t.lng==="en","Add Account"):(t.lng==="nl"||t.lng==="en","Login")}),r("label",{htmlFor:"name",children:t.lng==="nl"?"Account Naam":(t.lng==="en","Account Name")}),r("input",{id:"name",value:s,className:`${c?"err":""}`,onChange:({target:g})=>u(g.value),type:"text",required:!0}),r("label",{htmlFor:"school",children:"School"}),r("input",{id:"school",value:h,className:`${c?"err":""}`,onChange:({target:g})=>a(g.value),type:"text",required:!0}),r("label",{htmlFor:"code",children:"Code"}),r("input",{autoComplete:"off",id:"code",value:p,className:`${c?"err":""}`,onChange:({target:g})=>_(g.value.replace(/\s+/g,"")),type:"text",required:!0}),r("button",{"aria-label":"login",type:"submit",children:n?t.lng==="nl"?"Account Toevoegen":(t.lng==="en","Add Account"):(t.lng==="nl"||t.lng==="en","Login")}),c!==""&&r("span",{className:"err",children:c})]})]})}const fe=n=>{let e=864e5,t=new Date(n.getFullYear(),n.getMonth(),n.getDate()),o=t.getDay()*e,l=new Date(t.getTime()-o+e);return l>t&&(l=new Date(l.getTime()-e*7)),l},ye=(n,e)=>{let t;return t=fe(n),t.setDate(t.getDate()+e*7),t},Je=async(n,e)=>{const t=ye(n,e);let o=[];t.setDate(t.getDate()-t.getDay()+1);for(let l=0;l<5;l++)o.push(new Date(t)),t.setDate(t.getDate()+1);return Promise.resolve(o)},mt=n=>`${n.getFullYear()}${Math.ceil(Math.floor((Number(n)-Number(new Date(n.getFullYear(),0,1)))/(24*60*60*1e3))/7)}`;function vt(n,e,t){let o=new Date(n.reduce((s,u)=>u.end>s?u.end:s,n[0].end)*1e3).getHours()+1,l=new Date(n.reduce((s,u)=>u.start<s?u.start:s,n[0].start)*1e3).getHours();l>e&&(l=e),o<t&&(o=t);let c=[];for(var i=l;i<=o;i++)c.push(i);return c}const yt=(n,e,t)=>{const o=n.data[0].appointments.filter(h=>new Date(h.start*1e3).toDateString()===e[0].toDateString()&&new Date(h.end*1e3).toDateString()===e[0].toDateString()).sort((h,a)=>h.start>a.start?1:-1),l=n.data[0].appointments.filter(h=>new Date(h.start*1e3).toDateString()===e[1].toDateString()&&new Date(h.end*1e3).toDateString()===e[1].toDateString()).sort((h,a)=>h.start>a.start?1:-1),c=n.data[0].appointments.filter(h=>new Date(h.start*1e3).toDateString()===e[2].toDateString()&&new Date(h.end*1e3).toDateString()===e[2].toDateString()).sort((h,a)=>h.start>a.start?1:-1),i=n.data[0].appointments.filter(h=>new Date(h.start*1e3).toDateString()===e[3].toDateString()&&new Date(h.end*1e3).toDateString()===e[3].toDateString()).sort((h,a)=>h.start>a.start?1:-1),s=n.data[0].appointments.filter(h=>new Date(h.start*1e3).toDateString()===e[4].toDateString()&&new Date(h.end*1e3).toDateString()===e[4].toDateString()).sort((h,a)=>h.start>a.start?1:-1);let u=[o,l,c,i,s];return t||(u=u.map(h=>h.filter(a=>a.appointmentType!=="choice"))),u},bt=n=>{const[e,t]=b(!1);return j(()=>{const o=window.matchMedia(n);o.matches!==e&&t(o.matches);const l=()=>t(o.matches);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[e,n]),e},wt=(n,e,t=window)=>{const o=J(null);j(()=>{o.current=e},[e]),j(()=>{if(!(t&&t.addEventListener))return;const c=i=>o.current(i);return t.addEventListener(n,c),()=>{t.removeEventListener(n,c)}},[n,t])},Ct={localPREFIX:"zermelo",settings:{lng:"nl",showChoices:!1,theme:"light"},setSettings:()=>{},isDesktop:!0,user:"",accounts:[],currentAccount:0,logOut:()=>{},logIn:()=>{},goBack:()=>{},addNewAccount:()=>{},switchAccount:()=>{},scheduleHours:[],datesLoad:[],scheduleLoad:[],announcementsLoad:[],fetchLiveSchedule:()=>Promise.resolve([])},qe=lt(Ct);function x(){return ht(qe)}function Nt({children:n}){const e="zermelo",l=new Date,c=bt("(min-width: 1110px)"),[i,s]=b(!0),[u,h]=b(!1),[a,p]=b(!1),[_,d]=b(Number(localStorage.getItem(`${e}-current`)||0)),[g,S]=b(""),[f,y]=b(JSON.parse(localStorage.getItem(`${e}-accounts`)||"[]")),[v,T]=b(JSON.parse(localStorage.getItem(`${e}-settings`)||'{"lng": "nl", "theme": "light", "showChoices": false, "perWeek": true}')),[H,R]=b(""),[w,C]=b([]),[$,M]=b([]),[F,Z]=b([]),[B,se]=b([]);j(()=>{!Array.isArray(f)||f.length===0?(h(!1),s(!1)):h(!0)},[]),j(()=>{if(!u||!f[_].accessToken)return;s(!0);const N=new AbortController,A=N.signal;return(async()=>{let L;const O=await Qe(f,_,A);if(O&&O.data[0].code)L=O.data[0].code;else{h(!1),s(!1);return}const X=await Je(l,0),K=await Promise.all([be(L,X,0,A),et(A)]);let V=K[0],he=K[1];if(!V.every(P=>P.length<1)){const P=[...new Set(V.flat().map(I=>I.groups?I.groups[0]:"").filter(I=>I?.includes(".")))].map(I=>I.split("."))[0][0];if(P!==H&&P!==""){const I=he.filter(de=>de.title.toLowerCase().match(/\d+[A-z]/g)?.includes(P)||!P);R(P),Z(I)}else Z(he)}S(L),se(X),M(V),s(!1)})(),()=>{N.abort()}},[u,f[_]]),j(()=>{!v||localStorage.setItem(`${e}-settings`,JSON.stringify(v))},[v]),j(()=>{!v||(document.body.classList.value=v.theme)},[v.theme]);const ue=()=>{p(!0),h(!1)},Ye=()=>{s(!0),p(!1),h(!0)},Ze=N=>{N<-1||N>f.length||(localStorage.setItem(`${e}-current`,JSON.stringify(N)),d(N))},Xe=()=>{s(!0);const N=f;N.splice(_,1),localStorage.setItem(`${e}-accounts`,JSON.stringify(N)),localStorage.setItem(`${e}-current`,JSON.stringify(0)),y(N),d(0),N.length<1&&h(!1)},Ke=(N,A)=>{s(!0);const E=[...A,N],L=E.indexOf(N);localStorage.setItem(`${e}-accounts`,JSON.stringify(E)),localStorage.setItem(`${e}-current`,JSON.stringify(L)),y(E),d(L),p(!1),h(!0)};async function Qe(N,A,E){return(await re("GET","/api/v3/users/~me?fields=code,displayName",N[A].accessToken,N[A].school,E)).response}async function be(N,A,E,L){const O=f[_].school,X=f[_].accessToken,K=ye(l,E),V=mt(K),P=(await re("GET",`/api/v3/liveschedule?student=${N}&week=${V}&fields=start,end,startTimeSlotName,endTimeSlotName,subjects,groups,locations,teachers,cancelled,changeDescription,schedulerRemark,content,appointmentType`,X,O,L)).response,I=vt(P.data[0].appointments,8,16);let de=yt(P,A,v.showChoices);return C(I),Promise.resolve(de)}async function et(N){const A=f[_].school,E=f[_].accessToken,O=(await re("GET","/api/v3/announcements?user=~me&current=true&fields=text,title,id,read",E,A,N)).response;return Promise.resolve(O.data)}return r(qe.Provider,{value:{localPREFIX:e,user:g,isDesktop:c,accounts:f,currentAccount:_,logOut:Xe,logIn:Ke,goBack:Ye,settings:v,setSettings:T,addNewAccount:ue,switchAccount:Ze,scheduleHours:w,scheduleLoad:$,announcementsLoad:F,datesLoad:B,fetchLiveSchedule:be},children:i?r("div",{className:"loader-div",children:r("span",{className:"loader"})}):u?n:r(ft,{addAccount:a})})}const Ge=({isDesktop:n,lesson:e,style:t,className:o="",onClick:l})=>{const{settings:c}=x(),i=`lesson-block ${e.appointmentType} ${o} ${e.cancelled?"cancelled":""} ${e.appointmentType==="choice"?e.actions?.some(u=>u.allowed===!0)?"allowed":"locked":""}`,s=e.appointmentType==="conflict"&&e.actions?e.actions[0].appointment:e;return r("article",{onClick:l,className:i.replace(/\s+/g," ").trim(),style:t,children:e.appointmentType!=="choice"?r(D,{children:[r("section",{className:"content-left",children:[r("h1",{"aria-label":"subject",children:[s.appointmentType==="choice"?`${c.lng==="nl"?"keuze":(c.lng==="en","choice")}`:"",s.subjects.length<=1?s.subjects[0]:`${s.subjects[0]}, ${s.subjects[1]}${s.subjects.length>2?"+":""}`]}),n&&s.teachers&&s.teachers.length>0&&r("div",{"aria-label":"teacher",children:[s.teachers.length<=1?s.teachers[0].toUpperCase():`${s.teachers[0].toUpperCase()}, ${s.teachers[1].toUpperCase()}${s.teachers.length>2?"+":""}`,r("span",{className:"change",children:s.status?.some(u=>u.code===3011)})]}),s.locations&&s.locations.length>0&&r("div",{"aria-label":"location",children:[s.locations.length<=1?s.locations[0]:`${s.locations[0]}, ${s.locations[1]}${s.locations.length>2?"+":""}`,r("span",{className:"change",children:s.status?.some(u=>u.code===3012)})]}),n&&r("div",{className:"times",children:[r("time",{"aria-label":"lesson start",dateTime:`${new Date(e.start*1e3)}`,children:[String(new Date(e.start*1e3).getHours()),":",String(new Date(e.start*1e3).getMinutes()).padStart(2,"0")]}),"-",r("time",{"aria-label":"lesson end",dateTime:`${new Date(e.end*1e3)}`,children:[String(new Date(e.end*1e3).getHours()),":",String(new Date(e.end*1e3).getMinutes()).padStart(2,"0")]}),r("span",{className:"change",children:e.status?.some(u=>u.code===3015)})]})]}),r("section",{className:"content-right",children:[n&&r("span",{children:e.startTimeSlotName}),(s.changeDescription||s.cancelled||s.schedulerRemark||s.status?.some(u=>u.code.toString().startsWith("4")&&u.code!==4009||u.code.toString().startsWith("3")))&&r("svg",{viewBox:"0 0 123.996 123.996",children:r("g",{children:r("path",{d:"M9.821,118.048h104.4c7.3,0,12-7.7,8.7-14.2l-52.2-92.5c-3.601-7.199-13.9-7.199-17.5,0l-52.2,92.5 C-2.179,110.348,2.521,118.048,9.821,118.048z M70.222,96.548c0,4.8-3.5,8.5-8.5,8.5s-8.5-3.7-8.5-8.5v-0.2c0-4.8,3.5-8.5,8.5-8.5 s8.5,3.7,8.5,8.5V96.548z M57.121,34.048h9.801c2.699,0,4.3,2.3,4,5.2l-4.301,37.6c-0.3,2.7-2.1,4.4-4.6,4.4s-4.3-1.7-4.6-4.4 l-4.301-37.6C52.821,36.348,54.422,34.048,57.121,34.048z",fill:"currentColor"})})}),e.actions?.length!==0&&r("svg",{className:"options",viewBox:"0 0 1024 1024",children:r("path",{d:"M960 448H576V64a64 64 0 0 0-128 0v384H64a64 64 0 0 0 0 128h384v384a64 64 0 0 0 128 0V576h384a64 64 0 0 0 0-128z",fill:"currentColor"})})]})]}):r(D,{children:[r("section",{className:"choice-content",children:r("h1",{children:e.actions?.length||0})}),r("section",{className:"content-right",children:e.actions&&e.actions.some(u=>u.allowed!==!1)?r("svg",{className:"unlocked",viewBox:"0 0 1024 1024",children:r("path",{d:"M960 448H576V64a64 64 0 0 0-128 0v384H64a64 64 0 0 0 0 128h384v384a64 64 0 0 0 128 0V576h384a64 64 0 0 0 0-128z",fill:"currentColor"})}):r("svg",{className:"locked",viewBox:"0, 0, 400,400",children:r("g",{children:r("path",{d:"M179.388 1.194 C 136.339 8.424,100.785 37.404,84.474 78.560 C 77.373 96.477,75.781 107.250,75.781 137.380 L 75.781 160.714 69.541 161.142 C 59.010 161.864,52.177 166.780,48.268 176.448 L 46.484 180.859 46.266 279.297 C 46.049 377.177,46.057 377.763,47.674 382.813 C 49.833 389.553,53.705 394.717,58.782 397.629 L 62.891 399.985 200.000 399.985 L 337.109 399.985 341.218 397.629 C 346.226 394.757,350.123 389.609,352.297 382.991 C 354.795 375.386,354.829 186.670,352.333 178.793 C 348.532 166.798,340.574 160.938,328.087 160.938 L 324.219 160.938 324.219 137.492 C 324.219 107.239,322.634 96.495,315.526 78.560 C 293.788 23.708,237.112 -8.499,179.388 1.194 M218.614 54.625 C 243.456 61.846,262.851 81.282,269.515 105.634 C 271.799 113.981,272.627 124.022,272.643 143.555 L 272.656 160.938 200.000 160.938 L 127.344 160.938 127.357 143.555 C 127.373 124.022,128.201 113.981,130.485 105.634 C 140.852 67.751,181.945 43.966,218.614 54.625 M210.991 225.479 C 231.204 231.481,240.187 256.417,228.638 274.470 C 227.138 276.815,225.530 278.969,225.065 279.257 C 224.482 279.617,224.218 288.937,224.216 309.226 C 224.212 348.899,225.517 346.869,200.000 346.869 C 174.483 346.869,175.788 348.899,175.784 309.226 C 175.782 288.937,175.518 279.617,174.935 279.257 C 170.903 276.765,166.268 264.888,166.268 257.045 C 166.268 234.137,188.146 218.695,210.991 225.479 ",fill:"currentColor"})})})})]})})},W=({dayNumber:n,schedule:e,scheduleMin:t,openLessonModal:o,openChoiceModal:l})=>{const{isDesktop:c}=x();return r(D,{children:e[n]?.length!==0?e[n].map(i=>{let s=(new Date(i.start*1e3).getHours()-t)*12+new Date(i.start*1e3).getMinutes()/5+3,u=(new Date(i.end*1e3).getHours()-t)*12+new Date(i.end*1e3).getMinutes()/5+3;const h=i.actions?.length!==0?()=>{l(i)}:()=>{o(i)};return r(Ge,{isDesktop:c,lesson:i,className:`${u-s<=5?"wrap":""}`,onClick:h,style:{gridRow:`${s} / ${u}`,gridColumn:`${n+2}/${n+3}`}},i.id?i.id:`choice-${i.endTimeSlotName}`)}):r("div",{style:{gridRow:"1 / -1"}})})},kt=({scheduleHours:n})=>r(D,{children:n.map((e,t)=>r(D,{children:[r("div",{className:"time",style:{gridRow:`${t*12+2}/${t*12+4}`},children:r("time",{dateTime:`${e}:00`,children:[e,":00"]})}),r("span",{className:"line",style:{gridRow:`${t*12+2}/${t*12+4}`},children:r("hr",{})})]}))});const St=({offset:n,currentDay:e,openChoiceModal:t,openLessonModal:o,choiceModalOpen:l})=>{const{user:c,settings:i,fetchLiveSchedule:s,scheduleLoad:u,datesLoad:h,scheduleHours:a}=x(),[p,_]=b(!1),[d,g]=b(u),[S,f]=b(h),y=S.findIndex(w=>w.toDateString()===e.toDateString()),v=J(null),T=J(null),H=J(i.showChoices),R=J(l);return j(()=>{if(l!==!1)return;if(n===0&&H.current===i.showChoices&&R.current===l){f(h),g(u);return}_(!0);const w=new AbortController,C=w.signal;return(async()=>{const M=await Je(e,n);s(c,M,n,C).then(F=>{f(M),g(F),_(!1)})})(),()=>{w.abort()}},[n,i.showChoices,l]),st(()=>{const w=v.current,C=T.current;if(!w||!C)return;if(e.getHours()>17||e.getHours()<8){C.classList.add("!hidden");return}else C.classList.remove("!hidden");const $=()=>{const F=new Date(new Date(e.toDateString()).setHours(8));let Z=e.getTime()-F.getTime(),B=Math.floor(Z/1e3/60<<0);if(B>540||B<0)C.classList.add("!hidden");else{C.classList.remove("!hidden");const se=B/550*100,ue=w.offsetHeight/111;C.style.cssText=`top: calc(${se}% + ${ue}px);`}};$();const M=setInterval(()=>{$()},1e3*60);return()=>{clearInterval(M)}},[p]),r("section",{"aria-label":"schedule container",className:"schedule-container",children:[S&&r("section",{"aria-label":"dates",className:"dates",children:r(D,{children:[r("div",{className:"space",children:"10:00"}),r("div",{children:S&&S.map((w,C)=>r("time",{dateTime:`${w}`,className:`date ${C===y?"current":""}`,children:[r("span",{children:w.getDate().toString().padStart(2,"0")}),r("span",{children:w.toLocaleDateString(i.lng!=="en"&&i.lng!=="nl"?"default":i.lng,{weekday:"short"})}),r("div",{})]},C))})]})}),p?r("span",{className:"loader"}):r("section",{"aria-label":"schedule",className:"scroller",children:r("div",{ref:v,"aria-label":"schedule grid",className:"schedule-grid",style:{gridTemplateRows:` auto repeat(${(a[a.length-1]-a[0])*12+2},minmax(0,1fr))`},children:[r(kt,{scheduleHours:a}),r("div",{class:"highlight",style:y!==-1?{gridRow:"1 / -1",gridColumn:`${y+2}/${y+3}`}:{display:"none"}}),r(W,{schedule:d,scheduleMin:a[0],dayNumber:0,openLessonModal:o,openChoiceModal:t}),r(W,{schedule:d,scheduleMin:a[0],dayNumber:1,openLessonModal:o,openChoiceModal:t}),r(W,{schedule:d,scheduleMin:a[0],dayNumber:2,openLessonModal:o,openChoiceModal:t}),r(W,{schedule:d,scheduleMin:a[0],dayNumber:3,openLessonModal:o,openChoiceModal:t}),r(W,{schedule:d,scheduleMin:a[0],dayNumber:4,openLessonModal:o,openChoiceModal:t}),r("div",{ref:T,className:"time-indicator",children:[r("div",{}),r("div",{})]})]})})]})},$t=({closeChoiceModal:n,choiceModalOpen:e,selectedLesson:t})=>{const[o,l]=b(),{accounts:c,currentAccount:i,settings:s}=x(),{school:u,accessToken:h}=c[i];return r(D,{children:r("dialog",{onClick:p=>{p.target.classList.contains("choice-modal")&&n()},"aria-modal":"true",open:e,className:`${e&&t?"open ":""}choice-modal`,"aria-label":"choice info",children:r("form",{onSubmit:p=>{if(p.preventDefault(),!o)return;const d=new AbortController().signal;re("POST",o,h,u,d).then(()=>{n()})},className:`${t?t.appointmentType+" ":""}${t?.cancelled?"cancelled ":""}content`,children:t&&r(D,{children:[r("div",{className:"form-scroller",children:t&&t.actions&&t.actions.length!==0&&t.actions.map(p=>r("div",{children:[t.appointmentType==="choice"&&r("input",{type:"radio",name:"enroll",id:"enroll",value:p.post,checked:o===p.post,onChange:()=>{l(p.post)}}),r(Ge,{isDesktop:!0,lesson:p.appointment,onClick:()=>{}})]},p.appointment.id))}),t.appointmentType==="choice"&&r("button",{disabled:!o,type:"submit","aria-label":"enroll",children:t.studentEnrolled?s.lng==="nl"?"Uitschrijven":(s.lng==="en","Disenroll"):s.lng==="nl"?"Inschrijven":(s.lng==="en","Enroll")})]})})})})},Dt=({closeLessonModal:n,lessonModalOpen:e,selectedLesson:t})=>{const{settings:o}=x();return r("dialog",{onClick:l=>l.target.classList.contains("lesson-modal")&&n(),"aria-modal":"true",open:e,className:`${e&&t?"open ":""}lesson-modal`,"aria-label":"lesson info",children:r("div",{className:`${t?t.appointmentType+" ":""}${t?.cancelled?"cancelled ":""}content`,children:t&&r(D,{children:[r("span",{children:t.appointmentType}),r("div",{children:[r("span",{children:o.lng==="nl"?"Vak":(o.lng==="en","Subject")}),": ",r("span",{children:[t.subjects.length<=1?t.subjects[0]:`${t.subjects[0]}, ${t.subjects[1]}${t.subjects.length>2?"+":""}`,r("span",{className:"change",children:t.status?.some(l=>l.code===3014)})]})]}),r("div",{children:[r("span",{children:o.lng==="nl"?"Docent":(o.lng==="en","Teacher")}),": ",t.teachers.length>0&&r("span",{"aria-label":"teacher",children:[t.teachers.length<=1?t.teachers[0].toUpperCase():`${t.teachers[0].toUpperCase()}, ${t.teachers[1].toUpperCase()}${t.teachers.length>2?"+":""}`,r("span",{className:"change",children:t.status?.some(l=>l.code===3011)})]})]}),r("div",{children:[r("span",{children:o.lng==="nl"?"Lokaal":(o.lng==="en","Classroom")}),": ",t.locations.length>0&&r("span",{"aria-label":"location",children:[t.locations.length<=1?t.locations[0]:`${t.locations[0]}, ${t.locations[1]}${t.locations.length>2?"+":""}`,r("span",{className:"change",children:t.status?.some(l=>l.code===3012)})]})]}),r("div",{children:[r("span",{children:o.lng==="nl"?"Tijden":(o.lng==="en","Times")}),": ",r("span",{className:"times",children:[r("time",{"aria-label":"lesson start",dateTime:`${new Date(t.start*1e3)}`,children:[String(new Date(t.start*1e3).getHours()),":",String(new Date(t.start*1e3).getMinutes()).padStart(2,"0")]}),"-",r("time",{"aria-label":"lesson end",dateTime:`${new Date(t.end*1e3)}`,children:[String(new Date(t.end*1e3).getHours()),":",String(new Date(t.end*1e3).getMinutes()).padStart(2,"0")]}),r("span",{className:"change",children:t.status?.some(l=>l.code===3015)})]})]}),(t.changeDescription||t.schedulerRemark)&&r("div",{className:"remarks",children:[r("span",{className:"title",children:[o.lng==="nl"?"Opmerking":(o.lng==="en","Remark"),":"]}),t.changeDescription&&r("span",{children:t.changeDescription}),t.schedulerRemark&&r("span",{children:t.schedulerRemark})]})]})})})};const Tt=()=>{const{settings:n,setSettings:e}=x();return r("aside",{className:"settings","aria-labelledby":"settings-header",children:[r("h1",{id:"settings-header",children:n.lng==="nl"?"Instellingen":(n.lng==="en","Settings")}),r("div",{children:[r("label",{htmlFor:"lng",children:[n.lng==="nl"?"Taal":(n.lng==="en","Language"),":"]}),r("select",{id:"lng",value:n.lng,onChange:({target:t})=>{e(o=>o={...o,lng:t.value})},children:[r("option",{value:"nl",children:"NL"}),r("option",{value:"en",children:"EN"})]})]}),r("div",{children:[r("label",{htmlFor:"theme",children:[n.lng==="nl"?"Thema":(n.lng==="en","Theme"),":"]}),r("select",{id:"theme",value:n.theme,onChange:({target:t})=>{e(o=>o={...o,theme:t.value})},children:[r("option",{value:"light",children:"Light"}),r("option",{value:"dark",children:"Dark"})]})]}),r("div",{children:[r("label",{htmlFor:"choices",children:[n.lng==="nl"?"Toon Inschrijvingen":(n.lng==="en","Show Enrollments"),":"]}),r("select",{id:"choices",value:n.showChoices.toString(),onChange:({target:t})=>{e(o=>o={...o,showChoices:t.value==="true"})},children:[r("option",{value:"false",children:n.lng==="nl"?"Nee":(n.lng==="en","No")}),r("option",{value:"true",children:n.lng==="nl"?"Ja":(n.lng==="en","Yes")})]})]})]})};const At=({announcements:n})=>{const{isDesktop:e,settings:t}=x();return r("aside",{"aria-labelledby":"announcements-header",className:`${e?"":"mobile "}announcements`,children:[r("h1",{id:"announcements-header",children:t.lng==="nl"?"Mededelingen":(t.lng==="en","Announcements")}),n.length!==0?n.map(o=>r("article",{className:"announcement",children:[r("header",{children:[r("h1",{children:o.title}),r("div",{children:r("div",{className:"plusminus",children:[r("span",{}),r("span",{})]})})]}),r("div",{children:o.text})]},o.id)):r("h2",{children:t.lng==="nl"?"Geen actuele mededelingen":(t.lng==="en","No current announcements")})]})};const Ht=({setMenuOpen:n,showSettings:e,showAnnouncements:t,setShowSettings:o,setShowAnnouncements:l})=>{const{isDesktop:c,settings:i,accounts:s,currentAccount:u,switchAccount:h,addNewAccount:a,logOut:p}=x();return r("nav",{className:"navbar","aria-label":"primary",children:[r("svg",{className:"logo",viewBox:"0 0 512 512",children:[r("title",{children:"Logo"}),r("g",{children:[r("rect",{width:"512",height:"512",rx:"100",ry:"100"}),r("path",{d:"M374.75,217.71c21.32-33.81,28.64-70.97,29.03-110.31h9.99c0,6.54,.42,13.31-.07,20.01-1.98,26.96-7.88,52.96-19.48,77.55-.98,2.07-.74,5.17-.06,7.51,9.42,32.52,8.61,64.75-2.16,96.83-1.28,3.8-3.08,4.96-7.09,4.94-38.32-.18-76.65-.22-114.97,.03-5.18,.03-8.14-1.11-8.93-6.43-.26-1.77-1.03-3.47-1.69-5.63,1.93-.77,3.73-1.53,5.56-2.23,30.95-11.75,59.96-26.93,83.58-50.55,9.59-9.59,17.46-20.9,26.31-31.73Z"}),r("path",{d:"M112.28,256.06c.29-16.74,2.97-32.59,7.96-48.07,.94-2.92,2.25-4.14,5.57-4.13,36.81,.14,73.61,.14,110.42,0,3.34-.01,4.81,1.1,5.42,4.19,.47,2.41,1.29,4.76,2.08,7.59-87.66,33.62-135.85,95.31-135.71,191.4h-10.74c0-2.29-.06-4.53,0-6.78,.98-32.12,6.84-63.12,20.88-92.31,.89-1.84,.93-4.55,.36-6.57-4.17-14.67-6.26-29.61-6.25-45.33Z"}),r("path",{d:"M188,151.87h-32.71c52.4-59.33,150.04-59.57,202.3,0H188Z"}),r("path",{d:"M289.47,403.52c-55.31,13.05-104.8-8.89-131.52-37.35h197.71c-19.13,18.65-40.75,30.94-66.19,37.35Z"}),r("path",{d:"M255.45,290.03c-1.12-2.54-1.95-4.88-2.94-7.71,2.02-.8,3.81-1.56,5.63-2.24,29.66-11.04,56.95-25.91,79.34-48.8,25.19-25.77,38.74-57.01,43.43-92.35,1.37-10.36,1.83-20.84,2.73-31.61h8.12c-.18,35.83-6.67,70.09-25.59,101.12-25.69,42.13-64.92,66.25-110.71,81.59Z"}),r("path",{d:"M167.44,290.48c-28.59,33.73-38.59,73.33-38.85,116.54h-8.58c.03-35.29,6.74-68.83,24.65-99.76,19.52-33.71,55.88-63.25,102.72-79.87,.78,2.65,1.54,5.27,2.42,8.26-31.45,12.38-59.88,28.85-82.36,54.82Z"})]})]}),r("hr",{className:"separator"}),r("ul",{className:"accounts",children:s&&s.map((_,d)=>r("li",{children:r("button",{className:`${!e&&!t&&u===d?"active":""}`,"aria-label":`switch to ${_.accountName}`,onClick:()=>{n(!1),h(d),o(!1),l(!1)},children:[_.accountName.substring(0,2),r("span",{children:_.accountName})]})},d))}),r("section",{className:"buttons",children:[s.length<=5&&r("button",{"aria-label":"add account",className:"add-account",onClick:()=>{a(),o(!1),l(!1)},children:[r("svg",{viewBox:"0 0 1024 1024",children:r("path",{d:"M960 448H576V64a64 64 0 0 0-128 0v384H64a64 64 0 0 0 0 128h384v384a64 64 0 0 0 128 0V576h384a64 64 0 0 0 0-128z",fill:"currentColor"})}),r("span",{children:i.lng==="nl"?"Account Toevoegen":(i.lng==="en","Add Account")})]}),!c&&r("button",{"aria-label":"announcements",className:`${t?"active ":""}announcements-btn`,onClick:()=>{n(!1),o(!1),l(_=>!_)},children:[r("svg",{viewBox:"0 0 1024 1024",children:r("path",{d:"M853.333333 85.333333H170.666667C123.52 85.333333 85.76 123.52 85.76 170.666667L85.333333 938.666667l170.666667-170.666667h597.333333c47.146667 0 85.333333-38.186667 85.333334-85.333333V170.666667c0-47.146667-38.186667-85.333333-85.333334-85.333334zM554.666667 469.333333h-85.333334V213.333333h85.333334v256z m0 170.666667h-85.333334v-85.333333h85.333334v85.333333z",fill:"currentColor"})}),r("span",{children:i.lng==="nl"?"Mededelingen":(i.lng==="en","Announcements")})]}),r("button",{"aria-label":"settings",className:`${e?"active ":""}settings-btn`,onClick:()=>{n(!1),o(_=>!_),l(!1)},children:[r("svg",{viewBox:"0 0 48 48",children:[r("path",{d:"M0 0h48v48h-48z",fill:"none"}),r("path",{d:"M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97l-.75-5.3c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3c-1.22.51-2.35 1.17-3.38 1.97l-4.98-2.01c-.45-.17-.97 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31c-.08.64-.14 1.29-.14 1.95s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3c1.22-.51 2.35-1.17 3.38-1.97l4.98 2.01c.45.17.97 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zm-14.86 5.05c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z",fill:"currentColor"})]}),r("span",{children:i.lng==="nl"?"Instellingen":(i.lng==="en","Settings")})]})]}),r("button",{"aria-label":"logout",className:"logout",onClick:p,children:r("svg",{viewBox:"0 0 490.3 490.3",children:[r("path",{d:"M0,121.05v248.2c0,34.2,27.9,62.1,62.1,62.1h200.6c34.2,0,62.1-27.9,62.1-62.1v-40.2c0-6.8-5.5-12.3-12.3-12.3s-12.3,5.5-12.3,12.3v40.2c0,20.7-16.9,37.6-37.6,37.6H62.1c-20.7,0-37.6-16.9-37.6-37.6v-248.2c0-20.7,16.9-37.6,37.6-37.6h200.6c20.7,0,37.6,16.9,37.6,37.6v40.2c0,6.8,5.5,12.3,12.3,12.3s12.3-5.5,12.3-12.3v-40.2c0-34.2-27.9-62.1-62.1-62.1H62.1C27.9,58.95,0,86.75,0,121.05z",fill:"currentColor"}),r("path",{d:"M385.4,337.65c2.4,2.4,5.5,3.6,8.7,3.6s6.3-1.2,8.7-3.6l83.9-83.9c4.8-4.8,4.8-12.5,0-17.3l-83.9-83.9c-4.8-4.8-12.5-4.8-17.3,0s-4.8,12.5,0,17.3l63,63H218.6c-6.8,0-12.3,5.5-12.3,12.3c0,6.8,5.5,12.3,12.3,12.3h229.8l-63,63C380.6,325.15,380.6,332.95,385.4,337.65z",fill:"currentColor"})]})})]})};const Mt=({offset:n,setOffset:e,currentDay:t,showAnnouncements:o,showSettings:l,setMenuOpen:c})=>{const{settings:i,isDesktop:s}=x(),u=ye(t,n);return r("header",{className:"header",children:[!s&&r(D,{children:r("button",{tabIndex:1,"aria-label":"menu",className:"menu-hamburger",onClick:()=>c(h=>!h),children:r("svg",{viewBox:"0 0 32 32",children:r("path",{fill:"currentColor",d:"M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"})})})}),r("section",{"aria-label":"date",children:[r("time",{dateTime:`${new Date}`,children:r(D,{children:[r("span",{children:fe(u).toLocaleString(i.lng!=="en"&&i.lng!=="nl"?"default":i.lng,{month:"long"})}),r("span",{children:fe(u).toLocaleString(i.lng!=="en"&&i.lng!=="nl"?"default":i.lng,{year:"numeric"})})]})}),r("hr",{className:"line"}),r("h1",{children:["W",Math.ceil(Math.floor((Number(u)-Number(new Date(u.getFullYear(),0,1)))/(24*60*60*1e3))/7)]})]}),(!o&&!l||s)&&r("nav",{"aria-label":"change view",className:"right",children:[r("button",{className:"prev","aria-label":"previous week",onClick:()=>e(h=>h-1),children:r("svg",{viewBox:"0, 0, 400,400",children:r("g",{children:r("path",{id:"path0",d:"M133.594 60.920 C 129.853 62.938,1.851 191.233,0.820 193.996 C -0.234 196.823,-0.234 203.177,0.820 206.004 C 1.904 208.909,129.973 337.146,133.758 339.116 C 143.576 344.226,154.799 337.317,154.799 326.163 C 154.799 319.823,155.717 320.847,101.220 266.406 L 49.995 215.234 219.724 214.844 L 389.453 214.453 392.740 212.697 C 402.651 207.400,402.463 192.009,392.427 187.024 C 389.545 185.593,384.190 185.535,219.724 185.156 L 49.995 184.766 101.564 133.203 C 155.745 79.028,154.953 79.923,154.813 72.963 C 154.604 62.544,142.897 55.899,133.594 60.920 ",stroke:"none",fill:"currentColor",fillRule:"evenodd"})})})}),r("button",{className:"next","aria-label":"next week",onClick:()=>e(h=>h+1),children:r("svg",{viewBox:"0, 0, 400,400",children:r("g",{children:r("path",{id:"path0",d:"M133.594 60.920 C 129.853 62.938,1.851 191.233,0.820 193.996 C -0.234 196.823,-0.234 203.177,0.820 206.004 C 1.904 208.909,129.973 337.146,133.758 339.116 C 143.576 344.226,154.799 337.317,154.799 326.163 C 154.799 319.823,155.717 320.847,101.220 266.406 L 49.995 215.234 219.724 214.844 L 389.453 214.453 392.740 212.697 C 402.651 207.400,402.463 192.009,392.427 187.024 C 389.545 185.593,384.190 185.535,219.724 185.156 L 49.995 184.766 101.564 133.203 C 155.745 79.028,154.953 79.923,154.813 72.963 C 154.604 62.544,142.897 55.899,133.594 60.920 ",stroke:"none",fill:"currentColor",fillRule:"evenodd"})})})})]})]})},xt=()=>{const{isDesktop:n,announcementsLoad:e}=x(),[t,o]=b(0),[l,c]=b(!1),[i,s]=b(!1),[u,h]=b(!1),[a,p]=b(!1),[_,d]=b(!1),[g,S]=b(),f=new Date;wt("keydown",y);function y(w){switch(w.key){case"ArrowLeft":o(C=>C-1);break;case"ArrowRight":o(C=>C+1);break}}const v=w=>{S(w),p(!0)},T=()=>{p(!1),setTimeout(()=>{S(null)},150)},H=w=>{S(w),d(!0)},R=()=>{d(!1),setTimeout(()=>{S(null)},150)};return r("div",{className:`${l?"show-menu ":""}app`,children:[r(Ht,{setMenuOpen:c,showSettings:u,showAnnouncements:i,setShowSettings:h,setShowAnnouncements:s}),(n||i)&&r(At,{announcements:e}),u&&r(Tt,{}),r("main",{className:"schedule",children:[r(Mt,{offset:t,setOffset:o,currentDay:f,showAnnouncements:i,showSettings:u,setMenuOpen:c}),r(St,{offset:t,currentDay:f,choiceModalOpen:_,openLessonModal:v,openChoiceModal:H}),r(Dt,{lessonModalOpen:a,closeLessonModal:T,selectedLesson:g}),r($t,{choiceModalOpen:_,closeChoiceModal:R,selectedLesson:g})]})]})};ct(r(Nt,{children:r(xt,{})}),document.body);
