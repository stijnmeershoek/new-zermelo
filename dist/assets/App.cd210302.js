import{c as Q,o as X,u as P,i as t,a as n,b as F,d as p,S as u,e as K,t as c,F as J,f as R,s as j,l as ee,_ as te,g as V,h as he,j as ne,k as ie,m as ae,n as y,p as le,q as ge,r as se}from"./index.5c9554bf.js";import{T as _}from"./Translate.2eb81582.js";const $e=e=>{let s=e.handler;Q(()=>{if(!(e.element&&e.element.addEventListener))return;const o=i=>s(i);e.element.addEventListener(e.eventName,o),X(()=>e.element.removeEventListener(e.eventName,o))})};const me=c('<div><label for="custom">:</label><select id="custom"><option value="false"></option><option value="true"></option></select></div>'),fe=c('<aside class="settings" aria-labelledby="settings-header"><h1 id="settings-header"></h1><div><label for="lng">:</label><select id="lng"><option value="nl">NL</option><option value="en">EN</option></select></div><div><label for="theme">:</label><select id="theme"><option value="light"></option><option value="dark"></option></select></div><div><label for="choices">:</label><select id="choices"><option value="false"></option><option value="true"></option></select></div></aside>'),ve=()=>{const{settings:e,updateSettings:s,isDesktop:l}=P();return(()=>{const o=fe.cloneNode(!0),i=o.firstChild,r=i.nextSibling,a=r.firstChild,C=a.firstChild,$=a.nextSibling,d=r.nextSibling,b=d.firstChild,h=b.firstChild,f=b.nextSibling,N=f.firstChild,v=N.nextSibling,x=d.nextSibling,g=x.firstChild,L=g.firstChild,k=g.nextSibling,D=k.firstChild,T=D.nextSibling;return t(i,n(_,{nlString:"Instellingen",enString:"Settings"})),t(a,n(_,{nlString:"Taal",enString:"Language"}),C),F($,"input",s("lng"),!0),t(b,n(_,{nlString:"Thema",enString:"Theme"}),h),F(f,"input",s("theme"),!0),t(N,n(_,{nlString:"Licht",enString:"Light"})),t(v,n(_,{nlString:"Donker",enString:"Dark"})),t(g,n(_,{nlString:"Toon Inschrijvingen",enString:"Show Enrollments"}),L),F(k,"input",s("showChoices"),!0),t(D,n(_,{nlString:"Nee",enString:"No"})),t(T,n(_,{nlString:"Ja",enString:"Yes"})),t(o,n(u,{get when(){return l()},get children(){const A=me.cloneNode(!0),S=A.firstChild,Z=S.firstChild,Y=S.nextSibling,q=Y.firstChild,I=q.nextSibling;return t(S,n(_,{nlString:"Eigen afspraken",enString:"Personal Appointments"}),Z),F(Y,"input",s("enableCustom"),!0),t(q,n(_,{nlString:"Nee",enString:"No"})),t(I,n(_,{nlString:"Ja",enString:"Yes"})),p(()=>Y.value=e.enableCustom),A}}),null),p(()=>$.value=e.lng),p(()=>f.value=e.theme),p(()=>k.value=e.showChoices),o})()};K(["input"]);const _e=c('<aside aria-labelledby="announcements-header"><h1 id="announcements-header"></h1></aside>'),Ce=c("<h2></h2>"),be=c('<article class="announcement"><header><h1></h1><div><div class="plusminus"><span></span><span></span></div></div></header><div></div></article>'),Se=e=>{const{isDesktop:s}=P();return(()=>{const l=_e.cloneNode(!0),o=l.firstChild;return t(o,n(_,{nlString:"Mededelingen",enString:"Announcements"})),t(l,n(u,{get when(){return e.announcements().length!==0},get fallback(){return(()=>{const i=Ce.cloneNode(!0);return t(i,n(_,{nlString:"Geen actuele mededelingen",enString:"No current announcements"})),i})()},get children(){return n(J,{get each(){return e.announcements()},children:i=>(()=>{const r=be.cloneNode(!0),a=r.firstChild,C=a.firstChild,$=a.nextSibling;return t(C,()=>i.title),t($,()=>i.text),r})()})}}),null),p(()=>R(l,`${s()?"":"mobile "}announcements`)),l})()};const we=c('<button aria-label="add account" class="add-account"><svg viewBox="0 0 1024 1024"><path d="M960 448H576V64a64 64 0 0 0-128 0v384H64a64 64 0 0 0 0 128h384v384a64 64 0 0 0 128 0V576h384a64 64 0 0 0 0-128z" fill="currentColor"></path></svg><span></span></button>'),pe=c('<button aria-label="announcements"><svg viewBox="0 0 1024 1024"><path d="M853.333333 85.333333H170.666667C123.52 85.333333 85.76 123.52 85.76 170.666667L85.333333 938.666667l170.666667-170.666667h597.333333c47.146667 0 85.333333-38.186667 85.333334-85.333333V170.666667c0-47.146667-38.186667-85.333333-85.333334-85.333334zM554.666667 469.333333h-85.333334V213.333333h85.333334v256z m0 170.666667h-85.333334v-85.333333h85.333334v85.333333z" fill="currentColor"></path></svg><span></span></button>'),Me=c('<nav class="navbar" aria-label="primary" id="primary-navigation"><svg class="logo" viewBox="0 0 512 512"><title>Logo</title><g><rect width="512" height="512" rx="100" ry="100"></rect><path d="M374.75,217.71c21.32-33.81,28.64-70.97,29.03-110.31h9.99c0,6.54,.42,13.31-.07,20.01-1.98,26.96-7.88,52.96-19.48,77.55-.98,2.07-.74,5.17-.06,7.51,9.42,32.52,8.61,64.75-2.16,96.83-1.28,3.8-3.08,4.96-7.09,4.94-38.32-.18-76.65-.22-114.97,.03-5.18,.03-8.14-1.11-8.93-6.43-.26-1.77-1.03-3.47-1.69-5.63,1.93-.77,3.73-1.53,5.56-2.23,30.95-11.75,59.96-26.93,83.58-50.55,9.59-9.59,17.46-20.9,26.31-31.73Z"></path><path d="M112.28,256.06c.29-16.74,2.97-32.59,7.96-48.07,.94-2.92,2.25-4.14,5.57-4.13,36.81,.14,73.61,.14,110.42,0,3.34-.01,4.81,1.1,5.42,4.19,.47,2.41,1.29,4.76,2.08,7.59-87.66,33.62-135.85,95.31-135.71,191.4h-10.74c0-2.29-.06-4.53,0-6.78,.98-32.12,6.84-63.12,20.88-92.31,.89-1.84,.93-4.55,.36-6.57-4.17-14.67-6.26-29.61-6.25-45.33Z"></path><path d="M188,151.87h-32.71c52.4-59.33,150.04-59.57,202.3,0H188Z"></path><path d="M289.47,403.52c-55.31,13.05-104.8-8.89-131.52-37.35h197.71c-19.13,18.65-40.75,30.94-66.19,37.35Z"></path><path d="M255.45,290.03c-1.12-2.54-1.95-4.88-2.94-7.71,2.02-.8,3.81-1.56,5.63-2.24,29.66-11.04,56.95-25.91,79.34-48.8,25.19-25.77,38.74-57.01,43.43-92.35,1.37-10.36,1.83-20.84,2.73-31.61h8.12c-.18,35.83-6.67,70.09-25.59,101.12-25.69,42.13-64.92,66.25-110.71,81.59Z"></path><path d="M167.44,290.48c-28.59,33.73-38.59,73.33-38.85,116.54h-8.58c.03-35.29,6.74-68.83,24.65-99.76,19.52-33.71,55.88-63.25,102.72-79.87,.78,2.65,1.54,5.27,2.42,8.26-31.45,12.38-59.88,28.85-82.36,54.82Z"></path></g></svg><hr class="separator"><ul class="accounts"></ul><section class="buttons"><button aria-label="settings"><svg viewBox="0 0 48 48"><path d="M0 0h48v48h-48z" fill="none"></path><path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97l-.75-5.3c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3c-1.22.51-2.35 1.17-3.38 1.97l-4.98-2.01c-.45-.17-.97 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31c-.08.64-.14 1.29-.14 1.95s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3c1.22-.51 2.35-1.17 3.38-1.97l4.98 2.01c.45.17.97 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zm-14.86 5.05c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z" fill="currentColor"></path></svg><span></span></button></section><button title="logout" aria-label="logout" class="logout"><svg viewBox="0 0 490.3 490.3"><path d="M0,121.05v248.2c0,34.2,27.9,62.1,62.1,62.1h200.6c34.2,0,62.1-27.9,62.1-62.1v-40.2c0-6.8-5.5-12.3-12.3-12.3s-12.3,5.5-12.3,12.3v40.2c0,20.7-16.9,37.6-37.6,37.6H62.1c-20.7,0-37.6-16.9-37.6-37.6v-248.2c0-20.7,16.9-37.6,37.6-37.6h200.6c20.7,0,37.6,16.9,37.6,37.6v40.2c0,6.8,5.5,12.3,12.3,12.3s12.3-5.5,12.3-12.3v-40.2c0-34.2-27.9-62.1-62.1-62.1H62.1C27.9,58.95,0,86.75,0,121.05z" fill="currentColor"></path><path d="M385.4,337.65c2.4,2.4,5.5,3.6,8.7,3.6s6.3-1.2,8.7-3.6l83.9-83.9c4.8-4.8,4.8-12.5,0-17.3l-83.9-83.9c-4.8-4.8-12.5-4.8-17.3,0s-4.8,12.5,0,17.3l63,63H218.6c-6.8,0-12.3,5.5-12.3,12.3c0,6.8,5.5,12.3,12.3,12.3h229.8l-63,63C380.6,325.15,380.6,332.95,385.4,337.65z" fill="currentColor"></path></svg></button></nav>'),Ne=c("<li><button><span></span></button></li>"),Le=e=>{const{isDesktop:s,accounts:l,currentAccount:o,switchAccount:i,toggleAddAccount:r,logOut:a}=P();return(()=>{const C=Me.cloneNode(!0),$=C.firstChild,d=$.nextSibling,b=d.nextSibling,h=b.nextSibling,f=h.firstChild,N=f.firstChild,v=N.nextSibling,x=h.nextSibling;return t(b,n(u,{get when(){return l().length!==0},get children(){return n(J,{get each(){return l()},children:(g,L)=>(()=>{const k=Ne.cloneNode(!0),D=k.firstChild,T=D.firstChild;return D.$$click=()=>{e.setMenuOpen(!1),i(L()),e.setShowSettings(!1),e.setShowAnnouncements(!1)},t(D,()=>g.accountName.substring(0,2),T),t(T,()=>g.accountName),p(A=>{const S=`${!e.showSettings()&&!e.showAnnouncements()&&o()===L()?"active":""}`,Z=`switch to ${g.accountName}`;return S!==A._v$&&R(D,A._v$=S),Z!==A._v$2&&j(D,"aria-label",A._v$2=Z),A},{_v$:void 0,_v$2:void 0}),k})()})}})),t(h,n(u,{get when(){return l().length<5},get children(){const g=we.cloneNode(!0),L=g.firstChild,k=L.nextSibling;return g.$$click=()=>{r(),e.setShowSettings(!1),e.setShowAnnouncements(!1)},t(k,n(_,{nlString:"Account Toevoegen",enString:"Add Account"})),g}}),f),t(h,n(u,{get when(){return!s()},get children(){const g=pe.cloneNode(!0),L=g.firstChild,k=L.nextSibling;return g.$$click=()=>{e.setMenuOpen(!1),e.setShowSettings(!1),e.setShowAnnouncements(D=>!D)},t(k,n(_,{nlString:"Mededelingen",enString:"Announcements"})),p(()=>R(g,`${e.showAnnouncements()?"active ":""}announcements-btn`)),g}}),f),f.$$click=()=>{e.setMenuOpen(!1),e.setShowSettings(g=>!g),e.setShowAnnouncements(!1)},t(v,n(_,{nlString:"Instellingen",enString:"Settings"})),F(x,"click",a,!0),p(()=>R(f,`${e.showSettings()?"active ":""}settings-btn`)),C})()};K(["click"]);const Ae=c('<button tabindex="0" aria-label="menu" aria-controls="primary-navigation" class="menu-hamburger"><svg viewBox="0 0 32 32" aria-hidden="true"><path fill="currentColor" d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"></path></svg></button>'),ke=c('<nav aria-label="change view" class="right"><button class="prev" aria-label="previous week"><svg viewBox="0, 0, 400,400" aria-hidden="true"><g><path id="path0" d="M133.594 60.920 C 129.853 62.938,1.851 191.233,0.820 193.996 C -0.234 196.823,-0.234 203.177,0.820 206.004 C 1.904 208.909,129.973 337.146,133.758 339.116 C 143.576 344.226,154.799 337.317,154.799 326.163 C 154.799 319.823,155.717 320.847,101.220 266.406 L 49.995 215.234 219.724 214.844 L 389.453 214.453 392.740 212.697 C 402.651 207.400,402.463 192.009,392.427 187.024 C 389.545 185.593,384.190 185.535,219.724 185.156 L 49.995 184.766 101.564 133.203 C 155.745 79.028,154.953 79.923,154.813 72.963 C 154.604 62.544,142.897 55.899,133.594 60.920 " stroke="none" fill="currentColor" fill-rule="evenodd"></path></g></svg></button><button class="next" aria-label="next week"><svg viewBox="0, 0, 400,400" aria-hidden="true"><g><path id="path0" d="M133.594 60.920 C 129.853 62.938,1.851 191.233,0.820 193.996 C -0.234 196.823,-0.234 203.177,0.820 206.004 C 1.904 208.909,129.973 337.146,133.758 339.116 C 143.576 344.226,154.799 337.317,154.799 326.163 C 154.799 319.823,155.717 320.847,101.220 266.406 L 49.995 215.234 219.724 214.844 L 389.453 214.453 392.740 212.697 C 402.651 207.400,402.463 192.009,392.427 187.024 C 389.545 185.593,384.190 185.535,219.724 185.156 L 49.995 184.766 101.564 133.203 C 155.745 79.028,154.953 79.923,154.813 72.963 C 154.604 62.544,142.897 55.899,133.594 60.920 " stroke="none" fill="currentColor" fill-rule="evenodd"></path></g></svg></button></nav>'),De=c('<button class="add-appointment" aria-label="add appointment"><svg viewBox="0 0 1024 1024"><path d="M960 448H576V64a64 64 0 0 0-128 0v384H64a64 64 0 0 0 0 128h384v384a64 64 0 0 0 128 0V576h384a64 64 0 0 0 0-128z" fill="currentColor"></path></svg></button>'),xe=c('<header class="header"><section aria-label="date"><time></time><hr class="line"><h1>W</h1></section></header>'),oe=c("<span></span>"),ye=ee(()=>te(()=>import("./index.0f03e2ec.js"),["assets/index.0f03e2ec.js","assets/index.5c9554bf.js","assets/index.fccce2f6.css","assets/Translate.2eb81582.js","assets/index.dc767870.css"]).then(e=>({default:e.AddAppointmentModal}))),Oe=e=>{const{settings:s,isDesktop:l}=P(),o=V(()=>he(new Date,e.offset()));return[(()=>{const i=xe.cloneNode(!0),r=i.firstChild,a=r.firstChild,C=a.nextSibling,$=C.nextSibling;return $.firstChild,t(i,n(u,{get when(){return!l()},get children(){const d=Ae.cloneNode(!0);return d.$$click=()=>e.setMenuOpen(!e.menuOpen()),p(()=>j(d,"aria-expanded",`${e.menuOpen()}`)),d}}),r),j(a,"datetime",`${new Date}`),t(a,[(()=>{const d=oe.cloneNode(!0);return t(d,()=>ne(o()).toLocaleString(s.lng||"default",{month:`${l()?"long":"short"}`})),d})(),(()=>{const d=oe.cloneNode(!0);return t(d,()=>ne(o()).toLocaleString(s.lng||"default",{year:"numeric"})),d})()]),t($,()=>Math.ceil(Math.floor((Number(o())-Number(new Date(o().getFullYear(),0,1)))/(24*60*60*1e3))/7),null),t(i,n(u,{get when(){return V(()=>!e.showAnnouncements())()&&!e.showSettings()||l()},get children(){return[(()=>{const d=ke.cloneNode(!0),b=d.firstChild,h=b.nextSibling;return b.$$click=()=>e.setOffset(e.offset()-1),h.$$click=()=>e.setOffset(e.offset()+1),d})(),n(u,{get when(){return l()&&s.enableCustom==="true"},get children(){const d=De.cloneNode(!0);return d.$$click=()=>e.setAddAppointmentOpen(!e.addAppointmentOpen()),d}})]}}),null),i})(),n(ie,{get children(){return n(u,{get when(){return e.addAppointmentOpen()},get children(){return n(ye,{get setAddAppointmentOpen(){return e.setAddAppointmentOpen}})}})}})]};K(["click"]);const He=c("<article></article>"),Te=c('<section class="choice-content"><h1></h1></section>'),ze=c('<svg class="unlocked" viewBox="0 0 1024 1024"><path d="M960 448H576V64a64 64 0 0 0-128 0v384H64a64 64 0 0 0 0 128h384v384a64 64 0 0 0 128 0V576h384a64 64 0 0 0 0-128z" fill="currentColor"></path></svg>'),re=c('<section class="content-right"></section>'),Ee=c('<svg class="locked" viewBox="0, 0, 400,400"><g><path d="M179.388 1.194 C 136.339 8.424,100.785 37.404,84.474 78.560 C 77.373 96.477,75.781 107.250,75.781 137.380 L 75.781 160.714 69.541 161.142 C 59.010 161.864,52.177 166.780,48.268 176.448 L 46.484 180.859 46.266 279.297 C 46.049 377.177,46.057 377.763,47.674 382.813 C 49.833 389.553,53.705 394.717,58.782 397.629 L 62.891 399.985 200.000 399.985 L 337.109 399.985 341.218 397.629 C 346.226 394.757,350.123 389.609,352.297 382.991 C 354.795 375.386,354.829 186.670,352.333 178.793 C 348.532 166.798,340.574 160.938,328.087 160.938 L 324.219 160.938 324.219 137.492 C 324.219 107.239,322.634 96.495,315.526 78.560 C 293.788 23.708,237.112 -8.499,179.388 1.194 M218.614 54.625 C 243.456 61.846,262.851 81.282,269.515 105.634 C 271.799 113.981,272.627 124.022,272.643 143.555 L 272.656 160.938 200.000 160.938 L 127.344 160.938 127.357 143.555 C 127.373 124.022,128.201 113.981,130.485 105.634 C 140.852 67.751,181.945 43.966,218.614 54.625 M210.991 225.479 C 231.204 231.481,240.187 256.417,228.638 274.470 C 227.138 276.815,225.530 278.969,225.065 279.257 C 224.482 279.617,224.218 288.937,224.216 309.226 C 224.212 348.899,225.517 346.869,200.000 346.869 C 174.483 346.869,175.788 348.899,175.784 309.226 C 175.782 288.937,175.518 279.617,174.935 279.257 C 170.903 276.765,166.268 264.888,166.268 257.045 C 166.268 234.137,188.146 218.695,210.991 225.479 " fill="currentColor"></path></g></svg>'),Be=c('<div aria-label="teacher"><span class="change"></span></div>'),Ve=c('<div aria-label="location"><span class="change"></span></div>'),Ie=c('<div class="times"><time aria-label="lesson start">:</time>-<time aria-label="lesson end">:</time><span class="change"></span></div>'),Re=c('<section class="content-left"><h1 aria-label="subject"></h1></section>'),je=c("<span></span>"),Pe=c(`<svg viewBox="0 0 123.996 123.996"><g><path d="M9.821,118.048h104.4c7.3,0,12-7.7,8.7-14.2l-52.2-92.5c-3.601-7.199-13.9-7.199-17.5,0l-52.2,92.5
                C-2.179,110.348,2.521,118.048,9.821,118.048z M70.222,96.548c0,4.8-3.5,8.5-8.5,8.5s-8.5-3.7-8.5-8.5v-0.2c0-4.8,3.5-8.5,8.5-8.5
                s8.5,3.7,8.5,8.5V96.548z M57.121,34.048h9.801c2.699,0,4.3,2.3,4,5.2l-4.301,37.6c-0.3,2.7-2.1,4.4-4.6,4.4s-4.3-1.7-4.6-4.4
                l-4.301-37.6C52.821,36.348,54.422,34.048,57.121,34.048z" fill="currentColor"></path></g></svg>`),Ze=c('<svg class="options" viewBox="0 0 1024 1024"><path d="M960 448H576V64a64 64 0 0 0-128 0v384H64a64 64 0 0 0 0 128h384v384a64 64 0 0 0 128 0V576h384a64 64 0 0 0 0-128z" fill="currentColor"></path></svg>'),Fe=e=>{const s=V(()=>`lesson-block ${e.lesson.appointmentType} ${e.className} ${e.lesson.cancelled?"cancelled":""} ${e.lesson.appointmentType==="choice"?e.lesson.actions?.some(l=>l.allowed===!0)?"allowed":"locked":""}`);return(()=>{const l=He.cloneNode(!0);return F(l,"click",e.onClick,!0),t(l,n(u,{get when(){return e.lesson.appointmentType!=="choice"},get fallback(){return n(Ye,{get lesson(){return e.lesson}})},get children(){return n(Ue,{get lesson(){return e.lesson},get isDesktop(){return e.isDesktop}})}})),p(o=>{const i=s().replace(/\s+/g," ").trim(),r=e.style;return i!==o._v$&&R(l,o._v$=i),o._v$2=ae(l,r,o._v$2),o},{_v$:void 0,_v$2:void 0}),l})()},Ye=e=>[(()=>{const s=Te.cloneNode(!0),l=s.firstChild;return t(l,()=>e.lesson.actions?.length||0),s})(),(()=>{const s=re.cloneNode(!0);return t(s,n(u,{get when(){return V(()=>!!e.lesson.actions)()&&e.lesson.actions.some(l=>l.allowed!==!1)},get fallback(){return Ee.cloneNode(!0)},get children(){return ze.cloneNode(!0)}})),s})()],Ue=e=>{const s=e.lesson.appointmentType==="conflict"&&e.lesson.actions?e.lesson.actions[0].appointment:e.lesson;return[(()=>{const l=Re.cloneNode(!0),o=l.firstChild;return t(o,n(u,{get when(){return s.appointmentType==="choice"},fallback:"",get children(){return n(_,{nlString:"keuze",enString:"choice"})}}),null),t(o,()=>s.subjects.length<=1?s.subjects[0]:`${s.subjects[0]}, ${s.subjects[1]}${s.subjects.length>2?"+":""}`,null),t(l,n(u,{get when(){return e.isDesktop()&&s.teachers&&s.teachers.length>0},get children(){const i=Be.cloneNode(!0),r=i.firstChild;return t(i,(()=>{const a=V(()=>s.teachers.length<=1);return()=>a()?s.teachers[0].toUpperCase():`${s.teachers[0].toUpperCase()}, ${s.teachers[1].toUpperCase()}${s.teachers.length>2?"+":""}`})(),r),t(r,()=>s.status?.some(a=>a.code===3011)),i}}),null),t(l,n(u,{get when(){return s.locations&&s.locations.length>0},get children(){const i=Ve.cloneNode(!0),r=i.firstChild;return t(i,()=>s.locations.length<=1?s.locations[0]:`${s.locations[0]}, ${s.locations[1]}${s.locations.length>2?"+":""}`,r),t(r,()=>s.status?.some(a=>a.code===3012)),i}}),null),t(l,n(u,{get when(){return e.isDesktop()},get children(){const i=Ie.cloneNode(!0),r=i.firstChild,a=r.firstChild,C=r.nextSibling,$=C.nextSibling,d=$.firstChild,b=$.nextSibling;return t(r,()=>String(new Date(e.lesson.start*1e3).getHours()),a),t(r,()=>String(new Date(e.lesson.start*1e3).getMinutes()).padStart(2,"0"),null),t($,()=>String(new Date(e.lesson.end*1e3).getHours()),d),t($,()=>String(new Date(e.lesson.end*1e3).getMinutes()).padStart(2,"0"),null),t(b,()=>e.lesson.status?.some(h=>h.code===3015)),p(h=>{const f=`${new Date(e.lesson.start*1e3)}`,N=`${new Date(e.lesson.end*1e3)}`;return f!==h._v$3&&j(r,"datetime",h._v$3=f),N!==h._v$4&&j($,"datetime",h._v$4=N),h},{_v$3:void 0,_v$4:void 0}),i}}),null),l})(),(()=>{const l=re.cloneNode(!0);return t(l,n(u,{get when(){return e.isDesktop()},get children(){const o=je.cloneNode(!0);return t(o,()=>e.lesson.startTimeSlotName),o}}),null),t(l,n(u,{get when(){return s.changeDescription||s.cancelled||s.schedulerRemark||s.status?.some(o=>o.code.toString().startsWith("4")&&o.code!==4009||o.code.toString().startsWith("3"))},get children(){return Pe.cloneNode(!0)}}),null),t(l,n(u,{get when(){return e.lesson.actions&&e.lesson.actions.length!==0},get children(){return Ze.cloneNode(!0)}}),null),l})()]};K(["click"]);const W=e=>{const{isDesktop:s}=P();return n(u,{get when(){return e.schedule()[e.dayNumber]?.length!==0},get children(){return n(J,{get each(){return e.schedule()[e.dayNumber]},children:l=>{let o=(new Date(l.start*1e3).getHours()-e.scheduleMin)*12+new Date(l.start*1e3).getMinutes()/5+3,i=(new Date(l.end*1e3).getHours()-e.scheduleMin)*12+new Date(l.end*1e3).getMinutes()/5+3;const r=l.actions&&l.actions.length!==0?()=>{e.openChoiceModal(l)}:()=>{e.openLessonModal(l)};return n(Fe,{isDesktop:s,lesson:l,className:`${i-o<=5?"wrap":""}`,onClick:r,get style(){return{"grid-row":`${o} / ${i}`,"grid-column":`${e.dayNumber+2}/${e.dayNumber+3}`}}})}})}})},We=c('<div class="time"><time>:00</time></div>'),Je=c('<span class="line"><hr></span>'),qe=({scheduleHours:e})=>n(J,{get each(){return e()},children:(s,l)=>[(()=>{const o=We.cloneNode(!0),i=o.firstChild,r=i.firstChild;return j(i,"datetime",`${s}:00`),t(i,s,r),p(()=>o.style.setProperty("grid-row",`${l()*12+2}/${l()*12+4}`)),o})(),(()=>{const o=Je.cloneNode(!0);return p(()=>o.style.setProperty("grid-row",`${l()*12+2}/${l()*12+4}`)),o})()]});const Ge=c('<section aria-label="dates" class="dates"><div class="space">10:00</div><div></div></section>'),Ke=c('<section aria-label="schedule" class="scroller"><div aria-label="schedule grid" class="schedule-grid"><div class="highlight"></div><div class="time-indicator"><div></div><div></div></div></div></section>'),Qe=c('<section aria-label="schedule container" class="schedule-container"></section>'),Xe=c("<time><span></span><span></span><div></div></time>"),et=c('<span class="loader"></span>'),tt=ee(()=>te(()=>import("./index.8fe5f2e6.js"),["assets/index.8fe5f2e6.js","assets/index.5c9554bf.js","assets/index.fccce2f6.css","assets/Translate.2eb81582.js"]).then(e=>({default:e.LessonModal}))),nt=ee(()=>te(()=>import("./index.92b002ee.js"),["assets/index.92b002ee.js","assets/index.5c9554bf.js","assets/index.fccce2f6.css","assets/Translate.2eb81582.js"]).then(e=>({default:e.ChoiceModal}))),lt=e=>{const{user:s,settings:l,fetchLiveSchedule:o,scheduleLoad:i,datesLoad:r,scheduleHours:a}=P(),[C,$]=y(!1),[d,b]=y(i()),[h,f]=y(r()),N=V(()=>h().findIndex(m=>m.toDateString()===new Date().toDateString())),v=V(()=>(a()[a().length-1]-a()[0])*12+3),[x,g]=y(!1),[L,k]=y(!1),[D,T]=y();let A,S,Z=l.showChoices,Y=l.enableCustom,q=L();Q(le(()=>[e.offset(),l.showChoices,l.enableCustom,L(),e.addAppointmentOpen()],()=>{if(L()!==!1||e.addAppointmentOpen()!==!1)return;if(e.offset()===e.defaultOffset()&&(f(r),e.offset()===e.defaultOffset()&&Z===l.showChoices&&Y===l.enableCustom&&q===L())){b(i);return}$(!0);const m=new AbortController,z=m.signal;(async()=>{const O=await ge(new Date,e.offset());o(s(),O,e.offset(),z).then(M=>{f(O),b(M),$(!1)})})(),X(()=>m.abort())})),Q(le(()=>[C()],()=>{if(!S||!A)return;let m=new Date;if(m.getHours()>a()[a().length-1]||m.getHours()<a()[0]){S.classList.add("!hidden");return}else S.classList.remove("!hidden");let z=new Date(m.getFullYear(),m.getMonth(),m.getDate(),8,0);const w=()=>{if(!A||!S)return;let M=new Date().getTime()-z.getTime(),B=Math.floor(M/1e3/60<<0);if(B>v()*5||B<0)S.classList.add("!hidden");else{S.classList.remove("!hidden");const E=B/(v()*5)*100,H=A.offsetHeight/v();S.style.cssText=`top: calc(${E}% + ${H}px);`}};w();const O=setInterval(()=>{w()},1e3*30);X(()=>clearInterval(O))}));const I=m=>{T(m),g(!0)},ce=()=>{g(!1),T(void 0)},U=m=>{T(m),k(!0)},de=()=>{k(!1),T(void 0)};return[(()=>{const m=Qe.cloneNode(!0);return t(m,n(u,{get when(){return h().length>0},get children(){const z=Ge.cloneNode(!0),w=z.firstChild,O=w.nextSibling;return t(O,n(u,{get when(){return h().length!==0},get children(){return n(J,{get each(){return h()},children:(M,B)=>(()=>{const E=Xe.cloneNode(!0),H=E.firstChild,G=H.nextSibling;return j(E,"datetime",`${M}`),t(H,()=>M.getDate().toString().padStart(2,"0")),t(G,()=>M.toLocaleDateString(l.lng||"default",{weekday:"short"})),p(()=>R(E,`date ${B()===N()?"current":""}`)),E})()})}})),z}}),null),t(m,n(u,{get when(){return!C()},get fallback(){return et.cloneNode(!0)},get children(){const z=Ke.cloneNode(!0),w=z.firstChild,O=w.firstChild,M=O.nextSibling,B=A;typeof B=="function"?se(B,w):A=w,t(w,n(qe,{scheduleHours:a}),O),t(w,n(W,{schedule:d,get scheduleMin(){return a()[0]},dayNumber:0,openLessonModal:I,openChoiceModal:U}),M),t(w,n(W,{schedule:d,get scheduleMin(){return a()[0]},dayNumber:1,openLessonModal:I,openChoiceModal:U}),M),t(w,n(W,{schedule:d,get scheduleMin(){return a()[0]},dayNumber:2,openLessonModal:I,openChoiceModal:U}),M),t(w,n(W,{schedule:d,get scheduleMin(){return a()[0]},dayNumber:3,openLessonModal:I,openChoiceModal:U}),M),t(w,n(W,{schedule:d,get scheduleMin(){return a()[0]},dayNumber:4,openLessonModal:I,openChoiceModal:U}),M);const E=S;return typeof E=="function"?se(E,M):S=M,p(H=>{const G=` auto repeat(${v()},minmax(0,1fr))`,ue=N()!==-1?{"grid-row":"1 / -1","grid-column":`${N()+2}/${N()+3}`}:{display:"none"};return G!==H._v$&&w.style.setProperty("grid-template-rows",H._v$=G),H._v$2=ae(O,ue,H._v$2),H},{_v$:void 0,_v$2:void 0}),z}}),null),m})(),n(ie,{get children(){return[n(u,{get when(){return x()},get children(){return n(tt,{closeModal:ce,selectedLesson:D})}}),n(u,{get when(){return L()},get children(){return n(nt,{closeModal:de,selectedLesson:D})}})]}})]},st=c('<div><main class="schedule"></main></div>');function ot(){const{isDesktop:e,announcementsLoad:s}=P(),l=V(()=>new Date().getDay()===6||new Date().getDay()===0?1:0),[o,i]=y(l()),[r,a]=y(!1),[C,$]=y(!1),[d,b]=y(!1),[h,f]=y(!1);$e({eventName:"keydown",handler:N,element:window});function N(v){switch(v.key){case"ArrowLeft":i(o()-1);break;case"ArrowRight":i(o()+1);break}}return(()=>{const v=st.cloneNode(!0),x=v.firstChild;return t(v,n(Le,{setMenuOpen:a,showSettings:h,showAnnouncements:d,setShowSettings:f,setShowAnnouncements:b}),x),t(v,n(u,{get when(){return e()||d()},get children(){return n(Se,{announcements:s})}}),x),t(v,n(u,{get when(){return h()},get children(){return n(ve,{})}}),x),t(x,n(Oe,{offset:o,setOffset:i,showAnnouncements:d,showSettings:h,menuOpen:r,setMenuOpen:a,addAppointmentOpen:C,setAddAppointmentOpen:$}),null),t(x,n(lt,{offset:o,defaultOffset:l,addAppointmentOpen:C}),null),p(()=>R(v,`${r()?"show-menu ":""}app`)),v})()}const rt=Object.freeze(Object.defineProperty({__proto__:null,default:ot},Symbol.toStringTag,{value:"Module"}));export{rt as A,Fe as L};
